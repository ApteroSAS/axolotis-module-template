(self.webpackChunkaxolotis_module_template=self.webpackChunkaxolotis_module_template||[]).push([[134],{44:(module,__unused_webpack_exports,__webpack_require__)=>{!function webpackUniversalModuleDefinition(e,t){module.exports=t()}(self,(()=>(()=>{var __webpack_modules__={834:function(module){
/*!
 * 
 *   @aptero/axolotis-player v2.0.0
 *   https://github.com/ApteroSAS/axolotis-player
 *
 *   Copyright (c) Aptero (https://github.com/ApteroSAS/axolotis-player) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function webpackUniversalModuleDefinition(e,t){module.exports=t()}(0,(function(){return function(){"use strict";var __webpack_modules__={660:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "BUILD_VERSION": function() { return /* reexport */ BUILD_VERSION; },\n  "CODE_LOADER_MODULE_NAME": function() { return /* reexport */ CODE_LOADER_MODULE_NAME; },\n  "Entity": function() { return /* reexport */ Entity; },\n  "GLOBAL_LOCAL_MODULE": function() { return /* reexport */ GLOBAL_LOCAL_MODULE; },\n  "GLOBAL_WORLDS_ENTITY": function() { return /* reexport */ GLOBAL_WORLDS_ENTITY; },\n  "InitialComponentLoader": function() { return /* reexport */ InitialComponentLoader; },\n  "LazyEntity": function() { return /* reexport */ LazyEntity; },\n  "LazyServices": function() { return /* reexport */ LazyServices; },\n  "Services": function() { return /* reexport */ Services; },\n  "WorldEntity": function() { return /* reexport */ WorldEntity; },\n  "createWorld": function() { return /* reexport */ createWorld; },\n  "createWorldSync": function() { return /* reexport */ createWorldSync; },\n  "getGlobalStorage": function() { return /* reexport */ getGlobalStorage; },\n  "getGlobalStorageValue": function() { return /* reexport */ getGlobalStorageValue; },\n  "getGlobalWorld": function() { return /* reexport */ getGlobalWorld; },\n  "getService": function() { return /* reexport */ getService; },\n  "getServiceSync": function() { return /* reexport */ getServiceSync; },\n  "initHtml": function() { return /* reexport */ initHtml; },\n  "initHtmlFromUrl": function() { return /* reexport */ initHtmlFromUrl; },\n  "instantiateLocalAsyncModule": function() { return /* reexport */ instantiateLocalAsyncModule; },\n  "registerItem": function() { return /* reexport */ registerItem; },\n  "registerLocalModule": function() { return /* reexport */ registerLocalModule; },\n  "setGlobalStorageValue": function() { return /* reexport */ setGlobalStorageValue; }\n});\n\n;// CONCATENATED MODULE: ./src/lib/modules/core/ecs/Entity.ts\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Entity {\n  constructor() {\n    _defineProperty(this, "components", []);\n  }\n\n  addComponent(component) {\n    if (component.init) {\n      component.init();\n    }\n\n    this.components.push(component);\n    return component;\n  }\n\n  removeAllComponents() {\n    this.components.forEach(comp => {\n      this.removeComponent(comp);\n    });\n  }\n\n  removeComponent(component) {\n    if (component.destroy) {\n      component.destroy();\n    }\n\n    this.components = this.components.filter(comp => {\n      return comp != component;\n    });\n    return component;\n  }\n\n  addComponents(components) {\n    components.forEach(comp => {\n      this.addComponent(comp);\n    });\n  }\n\n  getComponents() {\n    return this.components;\n  }\n\n  getComponentByType(type) {\n    let ret = [];\n    this.components.forEach(comp => {\n      if (comp.getType() === type) {\n        ret.push(comp);\n      }\n    });\n    return ret;\n  }\n\n  getComponentByTypeStartsWith(type) {\n    let ret = [];\n    this.components.forEach(comp => {\n      if (comp.getType().startsWith(type)) {\n        ret.push(comp);\n      }\n    });\n    return ret;\n  }\n\n  getFirstComponentByTypeStartsWith(type) {\n    return this.getComponentByTypeStartsWith(type)[0];\n  }\n\n  getFirstComponentByType(type) {\n    return this.getComponentByType(type)[0];\n  }\n\n  getType() {\n    return Entity.name;\n  }\n\n}\n/* harmony default export */ var ecs_Entity = (Entity);\n;// CONCATENATED MODULE: ./src/lib/modules/core/ecs/WorldEntity.ts\n\nclass WorldEntity extends ecs_Entity {\n  constructor() {\n    super();\n  }\n\n  getType() {\n    return WorldEntity.name;\n  }\n\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/Global.ts\nvar axolotis = null;\nconst GLOBAL_WORLDS_ENTITY = "worlds";\nconst GLOBAL_LOCAL_MODULE = "localModules";\nfunction getGlobalStorage() {\n  //not axolotis in window => create it\n  if (typeof window !== "undefined") {\n    if (!window.axolotis) {\n      window.axolotis = {};\n    }\n  } //axolotis var not initialized with window\n\n\n  if (!axolotis && typeof window !== "undefined") {\n    axolotis = window.axolotis;\n  }\n\n  if (!axolotis) {\n    axolotis = {};\n  }\n\n  return axolotis;\n}\nfunction setGlobalStorageValue(key, value) {\n  let globalStorage = getGlobalStorage();\n  globalStorage[key] = value;\n}\nfunction getGlobalStorageValue(key) {\n  let auto = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  let globalStorage = getGlobalStorage();\n\n  if (!globalStorage[key] && auto) {\n    globalStorage[key] = {};\n  }\n\n  return globalStorage[key];\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/LocalLoader.ts\n\n\n\nfunction registerLocalModule(name, module, moduleStorage) {\n  if (!moduleStorage) {\n    moduleStorage = getGlobalStorageValue(GLOBAL_LOCAL_MODULE); //GG name\n  }\n\n  if (moduleStorage[name]) {\n    throw new Error("Module already defined");\n  }\n\n  moduleStorage[name] = module;\n}\n\nfunction getClassName(module) {\n  if (module.classname) {\n    //LongModule Case\n    return module.classname;\n  } else if (module.default && module.default.name) {\n    //ShortModule case\n    return module.default.name;\n  } else {\n    console.error(module);\n    throw new Error("Malformed module");\n  }\n}\n\nasync function instantiateLocalAsyncModule(fqcn, localModules, world, config) {\n  const localModule = await localModules[fqcn]();\n  let module = localModule.module;\n\n  if (!module) {\n    module = localModule; //SortModule case definition\n  }\n\n  for (const key in module) {\n    const sub = module[key];\n\n    if (sub.prototype && sub.prototype.constructor.name === getClassName(localModule)) {\n      let DependencyComponentList = [];\n\n      if (sub.dependencies) {\n        for (let i = 0; i < sub.dependencies.length; i++) {\n          const dep = sub.dependencies[i];\n          let services = world.getFirstComponentByType(Services.name);\n          let service = await services.getService(dep);\n          DependencyComponentList.push(service);\n        }\n      }\n\n      if (config != undefined) {\n        return new sub(...DependencyComponentList, config);\n      } else {\n        return new sub(...DependencyComponentList);\n      }\n    }\n  }\n\n  throw new Error("invalid submodule " + fqcn + " - " + getClassName(localModule));\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/JsLoader.ts\n\nasync function instantiateAsyncModule(moduleName, moduleStorage, world, config) {\n  let module = null;\n\n  if (moduleStorage && moduleStorage[moduleName]) {\n    module = await instantiateLocalAsyncModule(moduleName, moduleStorage, world, config);\n  } else if (moduleName.startsWith("http")) {\n    //TODO remote module "https://"\n    throw new Error("remote modules not implemented yet");\n  } else {\n    console.log("local module installed:", moduleStorage);\n    throw new Error("unknown module - please register it - " + moduleName);\n  }\n\n  return module;\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/CodeLoader.ts\nfunction load(modules, loadedCallBack) {\n  let ret = [];\n  let nbLoaded = 0;\n\n  for (const promiseCb of modules) {\n    const promise = promiseCb(); //trigger the load\n\n    ret.push(promise);\n    promise.then(() => {\n      nbLoaded++;\n      loadedCallBack(nbLoaded, modules.length);\n    });\n  }\n\n  return Promise.all(ret);\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/InitialComponentLoader.ts\nfunction InitialComponentLoader_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nconst CODE_LOADER_MODULE_NAME = "@aptero/axolotis-player/core/loader/InitialComponentLoader";\nclass InitialComponentLoader {\n  constructor() {\n    InitialComponentLoader_defineProperty(this, "initialLoading", void 0);\n\n    InitialComponentLoader_defineProperty(this, "initialLoadingResolver", void 0);\n\n    InitialComponentLoader_defineProperty(this, "moduleStorage", void 0);\n\n    this.initialLoading = new Promise(resolve => {\n      this.initialLoadingResolver = resolve;\n    });\n  }\n\n  getType() {\n    return InitialComponentLoader.name;\n  }\n\n  getModuleStorage() {\n    return this.moduleStorage;\n  }\n\n  async awaitInitialLoading() {\n    await this.initialLoading;\n  }\n\n  async startLoading(world, scene, loadedCallBack, moduleStorage) {\n    this.moduleStorage = moduleStorage;\n\n    if (scene.version !== "2.0") {\n      throw new Error("unsupported");\n    }\n\n    let promises = [];\n\n    for (const entity of scene.entities) {\n      for (const componentDef of entity.components) {\n        let config = componentDef.config;\n        promises.push(() => new Promise(async (resolve, reject) => {\n          let module = await instantiateAsyncModule(componentDef.module, moduleStorage, world, config || {}); //module.createComponent(world, config || {});\n\n          let component = module.getType ? module : await module.createComponent(world, config || {});\n\n          if (!component.getType) {\n            throw new Error("Not a component : " + componentDef.module + " " + component.constructor.name);\n          }\n\n          world.addComponent(component); //TODO world default but should ad to an entity\n\n          resolve(module);\n        }));\n      }\n    }\n\n    let promise = load(promises, loadedCallBack);\n    promise.then(value => {\n      if (this.initialLoadingResolver !== undefined) {\n        this.initialLoadingResolver(value);\n      }\n    });\n    promise.catch(reason => {\n      console.error(reason);\n    });\n    return promise;\n  }\n\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/service/LazyServices.ts\nfunction LazyServices_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nclass LazyServices {\n  constructor(world) {\n    this.world = world;\n\n    LazyServices_defineProperty(this, "serviceAsync", {});\n\n    LazyServices_defineProperty(this, "service", {});\n  }\n\n  getWorld() {\n    return this.world;\n  }\n\n  setService(moduleName, service) {\n    let replace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (!replace && (this.serviceAsync[moduleName] || this.service[moduleName])) {\n      throw new Error("Service already exist (use replace to force)");\n    }\n\n    this.serviceAsync[moduleName] = Promise.resolve(service);\n    this.service[moduleName] = service;\n\n    if (service.init) {\n      service.init(); //service init\n    }\n  }\n\n  async getService(moduleName) {\n    if (this.serviceAsync[moduleName]) {\n      //service already downloading add this request to queue;\n      const service = await this.serviceAsync[moduleName];\n\n      if (!service) {\n        throw new Error("error");\n      }\n\n      return service;\n    }\n\n    if (!this.serviceAsync[moduleName]) {\n      let modulesList = (await this.serviceAsync[CODE_LOADER_MODULE_NAME]).getModuleStorage();\n      let modulePromise = instantiateAsyncModule(moduleName, modulesList, this.world);\n      this.serviceAsync[moduleName] = new Promise(async resolve => {\n        let module = await modulePromise;\n        let service = module.getType ? module : await module.createService(this);\n        this.service[moduleName] = service; //module resolved\n\n        if (service.init) {\n          service.init(); //service init\n        }\n\n        resolve(service);\n      });\n    }\n\n    return await this.serviceAsync[moduleName];\n  }\n\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/service/Services.ts\n\nclass Services extends LazyServices {\n  getType() {\n    return Services.name;\n  }\n\n  getServiceSync(moduleName) {\n    if (this.service[moduleName]) {\n      return this.service[moduleName];\n    } else {\n      throw new Error("service not found : " + moduleName);\n    }\n  }\n\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/BasicInit.ts\n\n\n\n\nfunction createWorldSync() {\n  let initialScene = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    version: "2.0",\n    entities: []\n  };\n  let loadedCallBack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n  let finished = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : () => {};\n  let moduleStorage = arguments.length > 3 ? arguments[3] : undefined;\n  let world = arguments.length > 4 ? arguments[4] : undefined;\n\n  if (!world) {\n    world = new WorldEntity();\n  }\n\n  if (!getGlobalStorageValue(GLOBAL_WORLDS_ENTITY, false)) {\n    setGlobalStorageValue(GLOBAL_WORLDS_ENTITY, [world]);\n  } else {\n    getGlobalStorageValue(GLOBAL_WORLDS_ENTITY).push(world);\n  }\n\n  if (!moduleStorage) {\n    moduleStorage = getGlobalStorageValue(GLOBAL_LOCAL_MODULE);\n  }\n\n  let serviceEntity = new Services(world);\n  world.addComponent(serviceEntity);\n  let staticServices = {};\n\n  if (!staticServices[CODE_LOADER_MODULE_NAME]) {\n    staticServices[CODE_LOADER_MODULE_NAME] = new InitialComponentLoader();\n  }\n\n  for (const key in staticServices) {\n    world.getFirstComponentByType(Services.name).setService(key, staticServices[key]);\n  }\n\n  staticServices[CODE_LOADER_MODULE_NAME].startLoading(world, initialScene, loadedCallBack, moduleStorage).then(() => {\n    finished(world);\n  });\n  return world;\n}\nasync function createWorld() {\n  let initialScene = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    version: "2.0",\n    entities: []\n  };\n  let loadedCallBack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {};\n  let moduleStorage = arguments.length > 2 ? arguments[2] : undefined;\n  let world = arguments.length > 3 ? arguments[3] : undefined;\n  return new Promise(resolve => {\n    createWorldSync(initialScene, loadedCallBack, resolve, moduleStorage, world);\n  });\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/DomInit.ts\n\nconst BUILD_VERSION = (__webpack_require__(147)/* .version */ .i8);\nconsole.log("Axolotis-player version :" + BUILD_VERSION);\n\nconst windowReady = callBack => {\n  if (document.readyState === "complete" && document.body) {\n    callBack();\n  } else {\n    window.addEventListener("DOMContentLoaded", callBack);\n  }\n};\n\nasync function initHtmlFromUrl(url) {\n  let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!config.onProgress) {\n    config.onProgress = (progress, total) => {\n      console.log("[" + url + "] : [" + progress + "/" + total + "]");\n    };\n  }\n\n  if (!config.onLoaded) {\n    config.onLoaded = () => {\n      console.log("[" + url + "] : loading complete");\n    };\n  }\n\n  const r = await fetch(url);\n  const html = await r.text();\n  const parser = new DOMParser();\n  const document = parser.parseFromString(html, "text/html");\n  let scene = document.body.getElementsByTagName("ax-scene"); //TODO assume only one scene\n\n  if (!scene || scene && scene.length == 0) {\n    console.warn("Axolotis scene not found (no tag ax-scene)");\n    config.onLoaded();\n    return;\n  }\n\n  console.log(scene);\n  const world = await createWorld(htmlToJson(scene), config.onProgress);\n  config.onLoaded();\n  return world;\n}\nfunction initHtml() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!config.onProgress) {\n    config.onProgress = (progress, total) => {\n      console.log("[" + progress + "/" + total + "]");\n    };\n  }\n\n  if (!config.onLoaded) {\n    config.onLoaded = world => {\n      console.log("loading complete");\n    };\n  }\n\n  windowReady(() => {\n    let scene = window.document.body.getElementsByTagName("ax-scene"); //TODO assume only one scene\n\n    if (!scene || scene && scene.length == 0) {\n      console.warn("Axolotis scene not found (no tag ax-scene)");\n      createWorld().then(config.onLoaded);\n      return;\n    }\n\n    console.log(scene);\n    createWorld(htmlToJson(scene), config.onProgress).then(config.onLoaded);\n  });\n}\n\nfunction htmlToJson(scene) {\n  let sceneEl = scene[0];\n  const ret = {\n    version: "2.0",\n    entities: []\n  }; // @ts-ignore\n\n  for (const entity of sceneEl.getElementsByTagName("ax-entity")) {\n    let entityRet = {\n      components: []\n    };\n\n    for (const componentEl of entity.getElementsByTagName("ax-component")) {\n      let correctJson = JSON.stringify({});\n\n      if (componentEl.getAttribute("config")) {\n        //convert relaxed json to proper json\n        correctJson = componentEl.getAttribute("config").replace(/([\'"])?([a-z0-9A-Z_]+)([\'"])?:/g, \'"$2": \');\n      }\n\n      let component = {\n        module: componentEl.getAttribute("module"),\n        config: JSON.parse(correctJson)\n      };\n      entityRet.components.push(component);\n    }\n\n    ret.entities.push(entityRet);\n  }\n\n  return ret;\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/service/ServiceUtils.ts\n\nfunction getGlobalWorld() {\n  let worlds = getGlobalStorageValue(GLOBAL_WORLDS_ENTITY, false);\n\n  if (worlds && worlds.length > 0) {\n    return worlds[0];\n  } else {\n    throw new Error("No Axolotis world initialized");\n  }\n}\nfunction getServiceSync(serviceName) {\n  let world = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!world) {\n    world = getGlobalWorld();\n  }\n\n  return world.getFirstComponentByType(Services.name).getServiceSync(serviceName);\n}\nasync function getService(serviceName) {\n  let world = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!world) {\n    world = getGlobalWorld();\n  }\n\n  return world.getFirstComponentByType(Services.name).getService(serviceName);\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/entity/LazyEntity.ts\n\n\n\nclass LazyEntity extends ecs_Entity {\n  constructor(world) {\n    super();\n    this.world = world;\n  }\n\n  async addComponentAsync(moduleName) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let services = this.world.getFirstComponentByType(Services.name);\n    let codeLoader = await services.getService(CODE_LOADER_MODULE_NAME);\n    let modulePromise = instantiateAsyncModule(moduleName, codeLoader.getModuleStorage(), this.world, config || {});\n    let module = await await modulePromise;\n    let component = module.getType ? module : await module.createComponent(this.world, config || {});\n    return component;\n  }\n\n  getType() {\n    return LazyEntity.name;\n  }\n\n}\n;// CONCATENATED MODULE: ./src/lib/modules/core/loader/Item.ts\n\n/**\n * An Item (or SmartItem) is a set of Module (Services and/or Component)\n */\n\nfunction registerItem(item) {\n  let modules = item.modules();\n\n  for (const key in modules) {\n    registerLocalModule(key, modules[key]);\n  }\n}\n;// CONCATENATED MODULE: ./src/lib/index.ts\n/*\n * Defines what is exported\n * */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixJQUFJLENBQUNqRixPQUFMLEVBQWQ7O0VBQ0EsS0FBSyxNQUFNcEMsR0FBWCxJQUFrQm9DLE9BQWxCLEVBQTJCO0lBQ3pCOUIsbUJBQW1CLENBQUNOLEdBQUQsRUFBTW9DLE9BQU8sQ0FBQ3BDLEdBQUQsQ0FBYixDQUFuQjtFQUNEO0FBQ0YsQzs7QUNqQkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2F4b2xvdGlzLXBsYXllci8uL3NyYy9saWIvbW9kdWxlcy9jb3JlL2Vjcy9FbnRpdHkudHM/YjQxMSIsIndlYnBhY2s6Ly9heG9sb3Rpcy1wbGF5ZXIvLi9zcmMvbGliL21vZHVsZXMvY29yZS9lY3MvV29ybGRFbnRpdHkudHM/MDE5NyIsIndlYnBhY2s6Ly9heG9sb3Rpcy1wbGF5ZXIvLi9zcmMvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvR2xvYmFsLnRzPzQ2NmIiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0xvY2FsTG9hZGVyLnRzPzdkMTYiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0pzTG9hZGVyLnRzP2E5MGUiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0NvZGVMb2FkZXIudHM/YWQ0OSIsIndlYnBhY2s6Ly9heG9sb3Rpcy1wbGF5ZXIvLi9zcmMvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvSW5pdGlhbENvbXBvbmVudExvYWRlci50cz9hYzczIiwid2VicGFjazovL2F4b2xvdGlzLXBsYXllci8uL3NyYy9saWIvbW9kdWxlcy9jb3JlL2xvYWRlci9zZXJ2aWNlL0xhenlTZXJ2aWNlcy50cz9jMmVlIiwid2VicGFjazovL2F4b2xvdGlzLXBsYXllci8uL3NyYy9saWIvbW9kdWxlcy9jb3JlL2xvYWRlci9zZXJ2aWNlL1NlcnZpY2VzLnRzPzlhMjQiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0Jhc2ljSW5pdC50cz9hMDQ4Iiwid2VicGFjazovL2F4b2xvdGlzLXBsYXllci8uL3NyYy9saWIvbW9kdWxlcy9jb3JlL2xvYWRlci9Eb21Jbml0LnRzP2Y0MDgiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL3NlcnZpY2UvU2VydmljZVV0aWxzLnRzPzdhY2QiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL2VudGl0eS9MYXp5RW50aXR5LnRzPzNjMGUiLCJ3ZWJwYWNrOi8vYXhvbG90aXMtcGxheWVyLy4vc3JjL2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0l0ZW0udHM/MWU0MSIsIndlYnBhY2s6Ly9heG9sb3Rpcy1wbGF5ZXIvLi9zcmMvbGliL2luZGV4LnRzP2E2YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBFbnRpdHkgaW1wbGVtZW50cyBDb21wb25lbnQge1xuICBwcml2YXRlIGNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gW107XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIHB1YmxpYyBhZGRDb21wb25lbnQ8VCBleHRlbmRzIENvbXBvbmVudD4oY29tcG9uZW50OiBUKTogVCB7XG4gICAgaWYgKGNvbXBvbmVudC5pbml0KSB7XG4gICAgICBjb21wb25lbnQuaW5pdCgpO1xuICAgIH1cbiAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlQWxsQ29tcG9uZW50cygpIHtcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoY29tcCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcCk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50PFQgZXh0ZW5kcyBDb21wb25lbnQ+KGNvbXBvbmVudDogVCk6IFQge1xuICAgIGlmIChjb21wb25lbnQuZGVzdHJveSkge1xuICAgICAgY29tcG9uZW50LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5jb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmZpbHRlcigoY29tcCkgPT4ge1xuICAgICAgcmV0dXJuIGNvbXAgIT0gY29tcG9uZW50O1xuICAgIH0pO1xuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cblxuICBwdWJsaWMgYWRkQ29tcG9uZW50cyhjb21wb25lbnRzOiBDb21wb25lbnRbXSkge1xuICAgIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcCkgPT4ge1xuICAgICAgdGhpcy5hZGRDb21wb25lbnQoY29tcCk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29tcG9uZW50cygpOiBDb21wb25lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cztcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wb25lbnRCeVR5cGU8VCBleHRlbmRzIENvbXBvbmVudD4odHlwZTogc3RyaW5nKTogVFtdIHtcbiAgICBsZXQgcmV0OiBUW10gPSBbXTtcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoY29tcCkgPT4ge1xuICAgICAgaWYgKGNvbXAuZ2V0VHlwZSgpID09PSB0eXBlKSB7XG4gICAgICAgIHJldC5wdXNoKGNvbXAgYXMgVCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wb25lbnRCeVR5cGVTdGFydHNXaXRoKHR5cGU6IHN0cmluZyk6IENvbXBvbmVudFtdIHtcbiAgICBsZXQgcmV0OiBDb21wb25lbnRbXSA9IFtdO1xuICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKChjb21wKSA9PiB7XG4gICAgICBpZiAoY29tcC5nZXRUeXBlKCkuc3RhcnRzV2l0aCh0eXBlKSkge1xuICAgICAgICByZXQucHVzaChjb21wKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgcHVibGljIGdldEZpcnN0Q29tcG9uZW50QnlUeXBlU3RhcnRzV2l0aDxUIGV4dGVuZHMgQ29tcG9uZW50Pih0eXBlOiBzdHJpbmcpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnRCeVR5cGVTdGFydHNXaXRoKHR5cGUpWzBdIGFzIFQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0Rmlyc3RDb21wb25lbnRCeVR5cGU8VCBleHRlbmRzIENvbXBvbmVudD4odHlwZTogc3RyaW5nKTogVCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50QnlUeXBlKHR5cGUpWzBdIGFzIFQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBFbnRpdHkubmFtZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFbnRpdHk7XG4iLCJpbXBvcnQgRW50aXR5IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb3JlL2Vjcy9FbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIFdvcmxkRW50aXR5IGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuICBwdWJsaWMgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBXb3JsZEVudGl0eS5uYW1lO1xuICB9XG59XG4iLCJ2YXIgYXhvbG90aXMgPSBudWxsO1xuXG5leHBvcnQgY29uc3QgR0xPQkFMX1dPUkxEU19FTlRJVFkgPSBcIndvcmxkc1wiO1xuZXhwb3J0IGNvbnN0IEdMT0JBTF9MT0NBTF9NT0RVTEUgPSBcImxvY2FsTW9kdWxlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsU3RvcmFnZSgpOiBhbnkge1xuICAvL25vdCBheG9sb3RpcyBpbiB3aW5kb3cgPT4gY3JlYXRlIGl0XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgaWYgKCEod2luZG93IGFzIGFueSkuYXhvbG90aXMpIHtcbiAgICAgICh3aW5kb3cgYXMgYW55KS5heG9sb3RpcyA9IHt9O1xuICAgIH1cbiAgfVxuXG4gIC8vYXhvbG90aXMgdmFyIG5vdCBpbml0aWFsaXplZCB3aXRoIHdpbmRvd1xuICBpZiAoIWF4b2xvdGlzICYmIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBheG9sb3RpcyA9ICh3aW5kb3cgYXMgYW55KS5heG9sb3RpcztcbiAgfVxuXG4gIGlmICghYXhvbG90aXMpIHtcbiAgICBheG9sb3RpcyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIGF4b2xvdGlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0R2xvYmFsU3RvcmFnZVZhbHVlKGtleSwgdmFsdWUpIHtcbiAgbGV0IGdsb2JhbFN0b3JhZ2UgPSBnZXRHbG9iYWxTdG9yYWdlKCk7XG4gIGdsb2JhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsU3RvcmFnZVZhbHVlPFQ+KGtleSwgYXV0bzogYm9vbGVhbiA9IHRydWUpOiBUIHtcbiAgbGV0IGdsb2JhbFN0b3JhZ2UgPSBnZXRHbG9iYWxTdG9yYWdlKCk7XG4gIGlmICghZ2xvYmFsU3RvcmFnZVtrZXldICYmIGF1dG8pIHtcbiAgICBnbG9iYWxTdG9yYWdlW2tleV0gPSB7fTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsU3RvcmFnZVtrZXldIGFzIFQ7XG59XG4iLCJpbXBvcnQgeyBnZXRHbG9iYWxTdG9yYWdlVmFsdWUgfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvR2xvYmFsXCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuLi9lY3MvQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBXb3JsZEVudGl0eSB9IGZyb20gXCIuLi9lY3MvV29ybGRFbnRpdHlcIjtcbmltcG9ydCB7IFNlcnZpY2VzIH0gZnJvbSBcIi4vc2VydmljZS9TZXJ2aWNlc1wiO1xuaW1wb3J0IHsgR0xPQkFMX0xPQ0FMX01PRFVMRSB9IGZyb20gXCJAcm9vdC9saWJcIjtcblxuZXhwb3J0IHR5cGUgTW9kdWxlUHJvbWlzZSA9ICgoKSA9PiBQcm9taXNlPExvbmdNb2R1bGU+KSB8ICgoKSA9PiBQcm9taXNlPFNob3J0TW9kdWxlPik7XG5leHBvcnQgdHlwZSBMb25nTW9kdWxlID0geyBtb2R1bGU6IGFueTsgY2xhc3NuYW1lOiBzdHJpbmcgfTsgLy9pbiBjYXNlIHRoZXJlIGlzIHNldmVyYWwgZXhwb3J0IGluIHRoZSBmaWxlXG5leHBvcnQgdHlwZSBTaG9ydE1vZHVsZSA9IHsgZGVmYXVsdDogeyBuYW1lOiBzdHJpbmcgfSB9OyAvL0luIHRoaXMgY2FzZSB0aGUganMgbW9kdWxlIG11c3QgYmUgdGhlIGRlZmF1bHQgZXhwb3J0IG9mIHRoZSBjbGFzc1xuZXhwb3J0IGludGVyZmFjZSBMb2NhbE1vZHVsZXMge1xuICBbaWQ6IHN0cmluZ106IE1vZHVsZVByb21pc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckxvY2FsTW9kdWxlKG5hbWU6IHN0cmluZywgbW9kdWxlOiBNb2R1bGVQcm9taXNlLCBtb2R1bGVTdG9yYWdlPzogTG9jYWxNb2R1bGVzKSB7XG4gIGlmICghbW9kdWxlU3RvcmFnZSkge1xuICAgIG1vZHVsZVN0b3JhZ2UgPSBnZXRHbG9iYWxTdG9yYWdlVmFsdWU8TG9jYWxNb2R1bGVzPihHTE9CQUxfTE9DQUxfTU9EVUxFKTsgLy9HRyBuYW1lXG4gIH1cbiAgaWYgKG1vZHVsZVN0b3JhZ2VbbmFtZV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYWxyZWFkeSBkZWZpbmVkXCIpO1xuICB9XG4gIG1vZHVsZVN0b3JhZ2VbbmFtZV0gPSBtb2R1bGU7XG59XG5cbmZ1bmN0aW9uIGdldENsYXNzTmFtZShtb2R1bGU6IGFueSk6IHN0cmluZyB7XG4gIGlmIChtb2R1bGUuY2xhc3NuYW1lKSB7XG4gICAgLy9Mb25nTW9kdWxlIENhc2VcbiAgICByZXR1cm4gbW9kdWxlLmNsYXNzbmFtZTtcbiAgfSBlbHNlIGlmIChtb2R1bGUuZGVmYXVsdCAmJiBtb2R1bGUuZGVmYXVsdC5uYW1lKSB7XG4gICAgLy9TaG9ydE1vZHVsZSBjYXNlXG4gICAgcmV0dXJuIG1vZHVsZS5kZWZhdWx0Lm5hbWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihtb2R1bGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBtb2R1bGVcIik7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc3RhbnRpYXRlTG9jYWxBc3luY01vZHVsZTxUPihmcWNuOiBzdHJpbmcsIGxvY2FsTW9kdWxlczogTG9jYWxNb2R1bGVzLCB3b3JsZDogV29ybGRFbnRpdHksIGNvbmZpZz86IGFueSk6IFByb21pc2U8VD4ge1xuICBjb25zdCBsb2NhbE1vZHVsZSA9IGF3YWl0IGxvY2FsTW9kdWxlc1tmcWNuXSgpO1xuICBsZXQgbW9kdWxlID0gKGxvY2FsTW9kdWxlIGFzIGFueSkubW9kdWxlO1xuICBpZiAoIW1vZHVsZSkge1xuICAgIG1vZHVsZSA9IGxvY2FsTW9kdWxlOyAvL1NvcnRNb2R1bGUgY2FzZSBkZWZpbml0aW9uXG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gbW9kdWxlKSB7XG4gICAgY29uc3Qgc3ViID0gbW9kdWxlW2tleV07XG4gICAgaWYgKHN1Yi5wcm90b3R5cGUgJiYgc3ViLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBnZXRDbGFzc05hbWUobG9jYWxNb2R1bGUpKSB7XG4gICAgICBsZXQgRGVwZW5kZW5jeUNvbXBvbmVudExpc3Q6IENvbXBvbmVudFtdID0gW107XG4gICAgICBpZiAoc3ViLmRlcGVuZGVuY2llcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Yi5kZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBkZXAgPSBzdWIuZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICAgIGxldCBzZXJ2aWNlcyA9IHdvcmxkLmdldEZpcnN0Q29tcG9uZW50QnlUeXBlPFNlcnZpY2VzPihTZXJ2aWNlcy5uYW1lKTtcbiAgICAgICAgICBsZXQgc2VydmljZSA9IGF3YWl0IHNlcnZpY2VzLmdldFNlcnZpY2U8Q29tcG9uZW50PihkZXApO1xuICAgICAgICAgIERlcGVuZGVuY3lDb21wb25lbnRMaXN0LnB1c2goc2VydmljZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgc3ViKC4uLkRlcGVuZGVuY3lDb21wb25lbnRMaXN0LCBjb25maWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzdWIoLi4uRGVwZW5kZW5jeUNvbXBvbmVudExpc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHN1Ym1vZHVsZSBcIiArIGZxY24gKyBcIiAtIFwiICsgZ2V0Q2xhc3NOYW1lKGxvY2FsTW9kdWxlKSk7XG59XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb3JlL2Vjcy9Db21wb25lbnRcIjtcbmltcG9ydCB7IGluc3RhbnRpYXRlTG9jYWxBc3luY01vZHVsZSwgTG9jYWxNb2R1bGVzIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0xvY2FsTG9hZGVyXCI7XG5pbXBvcnQgeyBXb3JsZEVudGl0eSB9IGZyb20gXCIuLi9lY3MvV29ybGRFbnRpdHlcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc3RhbnRpYXRlQXN5bmNNb2R1bGU8VD4obW9kdWxlTmFtZTogc3RyaW5nLCBtb2R1bGVTdG9yYWdlOiBMb2NhbE1vZHVsZXMsIHdvcmxkPzogV29ybGRFbnRpdHksIGNvbmZpZz86IGFueSk6IFByb21pc2U8VD4ge1xuICBsZXQgbW9kdWxlID0gbnVsbDtcbiAgaWYgKG1vZHVsZVN0b3JhZ2UgJiYgbW9kdWxlU3RvcmFnZVttb2R1bGVOYW1lXSkge1xuICAgIG1vZHVsZSA9IGF3YWl0IGluc3RhbnRpYXRlTG9jYWxBc3luY01vZHVsZTxDb21wb25lbnQ+KG1vZHVsZU5hbWUsIG1vZHVsZVN0b3JhZ2UsIHdvcmxkLCBjb25maWcpO1xuICB9IGVsc2UgaWYgKG1vZHVsZU5hbWUuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICAvL1RPRE8gcmVtb3RlIG1vZHVsZSBcImh0dHBzOi8vXCJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdGUgbW9kdWxlcyBub3QgaW1wbGVtZW50ZWQgeWV0XCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwibG9jYWwgbW9kdWxlIGluc3RhbGxlZDpcIiwgbW9kdWxlU3RvcmFnZSk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBtb2R1bGUgLSBwbGVhc2UgcmVnaXN0ZXIgaXQgLSBcIiArIG1vZHVsZU5hbWUpO1xuICB9XG4gIHJldHVybiBtb2R1bGU7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gbG9hZChtb2R1bGVzOiAoKCkgPT4gUHJvbWlzZTxhbnk+KVtdLCBsb2FkZWRDYWxsQmFjazogKHByb2dyZXNzOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQpIHtcbiAgbGV0IHJldDogYW55W10gPSBbXTtcbiAgbGV0IG5iTG9hZGVkID0gMDtcbiAgZm9yIChjb25zdCBwcm9taXNlQ2Igb2YgbW9kdWxlcykge1xuICAgIGNvbnN0IHByb21pc2UgPSBwcm9taXNlQ2IoKTsgLy90cmlnZ2VyIHRoZSBsb2FkXG4gICAgcmV0LnB1c2gocHJvbWlzZSk7XG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIG5iTG9hZGVkKys7XG4gICAgICBsb2FkZWRDYWxsQmFjayhuYkxvYWRlZCwgbW9kdWxlcy5sZW5ndGgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBQcm9taXNlLmFsbChyZXQpO1xufVxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9lY3MvQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBsb2FkIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0NvZGVMb2FkZXJcIjtcbmltcG9ydCB7IFdvcmxkRW50aXR5IH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvZWNzL1dvcmxkRW50aXR5XCI7XG5pbXBvcnQgeyBpbnN0YW50aWF0ZUFzeW5jTW9kdWxlIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0pzTG9hZGVyXCI7XG5pbXBvcnQgeyBXb3JsZERlZmluaXRpb24gfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvV29ybGREZWZpbml0aW9uXCI7XG5pbXBvcnQgeyBMb2NhbE1vZHVsZXMgfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvTG9jYWxMb2FkZXJcIjtcblxuZXhwb3J0IGNvbnN0IENPREVfTE9BREVSX01PRFVMRV9OQU1FID0gXCJAYXB0ZXJvL2F4b2xvdGlzLXBsYXllci9jb3JlL2xvYWRlci9Jbml0aWFsQ29tcG9uZW50TG9hZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBJbml0aWFsQ29tcG9uZW50TG9hZGVyIGltcGxlbWVudHMgQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBpbml0aWFsTG9hZGluZzogUHJvbWlzZTxhbnk+O1xuICBwcml2YXRlIGluaXRpYWxMb2FkaW5nUmVzb2x2ZXI6ICgodmFsdWU6IGFueSkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbW9kdWxlU3RvcmFnZTogTG9jYWxNb2R1bGVzO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5pdGlhbExvYWRpbmcgPSBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmluaXRpYWxMb2FkaW5nUmVzb2x2ZXIgPSByZXNvbHZlO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBJbml0aWFsQ29tcG9uZW50TG9hZGVyLm5hbWU7XG4gIH1cblxuICBnZXRNb2R1bGVTdG9yYWdlKCkge1xuICAgIHJldHVybiB0aGlzLm1vZHVsZVN0b3JhZ2U7XG4gIH1cblxuICBhc3luYyBhd2FpdEluaXRpYWxMb2FkaW5nKCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdGlhbExvYWRpbmc7XG4gIH1cblxuICBhc3luYyBzdGFydExvYWRpbmcod29ybGQ6IFdvcmxkRW50aXR5LCBzY2VuZTogV29ybGREZWZpbml0aW9uLCBsb2FkZWRDYWxsQmFjazogKHByb2dyZXNzOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQsIG1vZHVsZVN0b3JhZ2U6IExvY2FsTW9kdWxlcykge1xuICAgIHRoaXMubW9kdWxlU3RvcmFnZSA9IG1vZHVsZVN0b3JhZ2U7XG4gICAgaWYgKHNjZW5lLnZlcnNpb24gIT09IFwiMi4wXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkXCIpO1xuICAgIH1cbiAgICBsZXQgcHJvbWlzZXM6ICgoKSA9PiBQcm9taXNlPGFueT4pW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBzY2VuZS5lbnRpdGllcykge1xuICAgICAgZm9yIChjb25zdCBjb21wb25lbnREZWYgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IGNvbXBvbmVudERlZi5jb25maWc7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgbGV0IG1vZHVsZSA9IGF3YWl0IGluc3RhbnRpYXRlQXN5bmNNb2R1bGU8YW55Pihjb21wb25lbnREZWYubW9kdWxlLCBtb2R1bGVTdG9yYWdlLCB3b3JsZCwgY29uZmlnIHx8IHt9KTsgLy9tb2R1bGUuY3JlYXRlQ29tcG9uZW50KHdvcmxkLCBjb25maWcgfHwge30pO1xuICAgICAgICAgICAgICBsZXQgY29tcG9uZW50ID0gbW9kdWxlLmdldFR5cGUgPyBtb2R1bGUgOiAoKGF3YWl0IG1vZHVsZS5jcmVhdGVDb21wb25lbnQod29ybGQsIGNvbmZpZyB8fCB7fSkpIGFzIENvbXBvbmVudCk7XG4gICAgICAgICAgICAgIGlmICghY29tcG9uZW50LmdldFR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBjb21wb25lbnQgOiBcIiArIGNvbXBvbmVudERlZi5tb2R1bGUgKyBcIiBcIiArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3b3JsZC5hZGRDb21wb25lbnQoY29tcG9uZW50KTsgLy9UT0RPIHdvcmxkIGRlZmF1bHQgYnV0IHNob3VsZCBhZCB0byBhbiBlbnRpdHlcbiAgICAgICAgICAgICAgcmVzb2x2ZShtb2R1bGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcHJvbWlzZSA9IGxvYWQocHJvbWlzZXMsIGxvYWRlZENhbGxCYWNrKTtcbiAgICBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodGhpcy5pbml0aWFsTG9hZGluZ1Jlc29sdmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsTG9hZGluZ1Jlc29sdmVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9taXNlLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9lY3MvQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBpbnN0YW50aWF0ZUFzeW5jTW9kdWxlIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0pzTG9hZGVyXCI7XG5pbXBvcnQgeyBXb3JsZEVudGl0eSB9IGZyb20gXCJAcm9vdC9saWJcIjtcbmltcG9ydCB7IEluaXRpYWxDb21wb25lbnRMb2FkZXIsIENPREVfTE9BREVSX01PRFVMRV9OQU1FIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0luaXRpYWxDb21wb25lbnRMb2FkZXJcIjtcbmltcG9ydCB7IElTZXJ2aWNlIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL3NlcnZpY2UvSVNlcnZpY2VcIjtcblxuZXhwb3J0IGNsYXNzIExhenlTZXJ2aWNlcyB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgd29ybGQ6IFdvcmxkRW50aXR5KSB7fVxuXG4gIHNlcnZpY2VBc3luYzogeyBbaWQ6IHN0cmluZ106IFByb21pc2U8SVNlcnZpY2U+IHwgdW5kZWZpbmVkIH0gPSB7fTtcbiAgc2VydmljZTogeyBbaWQ6IHN0cmluZ106IElTZXJ2aWNlIH0gPSB7fTtcblxuICBnZXRXb3JsZCgpOiBXb3JsZEVudGl0eSB7XG4gICAgcmV0dXJuIHRoaXMud29ybGQ7XG4gIH1cblxuICBzZXRTZXJ2aWNlKG1vZHVsZU5hbWU6IHN0cmluZywgc2VydmljZTogSVNlcnZpY2UsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgIGlmICghcmVwbGFjZSAmJiAodGhpcy5zZXJ2aWNlQXN5bmNbbW9kdWxlTmFtZV0gfHwgdGhpcy5zZXJ2aWNlW21vZHVsZU5hbWVdKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VydmljZSBhbHJlYWR5IGV4aXN0ICh1c2UgcmVwbGFjZSB0byBmb3JjZSlcIik7XG4gICAgfVxuICAgIHRoaXMuc2VydmljZUFzeW5jW21vZHVsZU5hbWVdID0gUHJvbWlzZS5yZXNvbHZlKHNlcnZpY2UpO1xuICAgIHRoaXMuc2VydmljZVttb2R1bGVOYW1lXSA9IHNlcnZpY2U7XG4gICAgaWYgKHNlcnZpY2UuaW5pdCkge1xuICAgICAgc2VydmljZS5pbml0KCk7IC8vc2VydmljZSBpbml0XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0U2VydmljZTxUIGV4dGVuZHMgSVNlcnZpY2U+KG1vZHVsZU5hbWU6IHN0cmluZyk6IFByb21pc2U8VD4ge1xuICAgIGlmICh0aGlzLnNlcnZpY2VBc3luY1ttb2R1bGVOYW1lXSkge1xuICAgICAgLy9zZXJ2aWNlIGFscmVhZHkgZG93bmxvYWRpbmcgYWRkIHRoaXMgcmVxdWVzdCB0byBxdWV1ZTtcbiAgICAgIGNvbnN0IHNlcnZpY2UgPSBhd2FpdCB0aGlzLnNlcnZpY2VBc3luY1ttb2R1bGVOYW1lXTtcbiAgICAgIGlmICghc2VydmljZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlcnJvclwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXJ2aWNlIGFzIFQ7XG4gICAgfVxuICAgIGlmICghdGhpcy5zZXJ2aWNlQXN5bmNbbW9kdWxlTmFtZV0pIHtcbiAgICAgIGxldCBtb2R1bGVzTGlzdCA9ICgoYXdhaXQgdGhpcy5zZXJ2aWNlQXN5bmNbQ09ERV9MT0FERVJfTU9EVUxFX05BTUVdKSBhcyBJbml0aWFsQ29tcG9uZW50TG9hZGVyKS5nZXRNb2R1bGVTdG9yYWdlKCk7XG4gICAgICBsZXQgbW9kdWxlUHJvbWlzZSA9IGluc3RhbnRpYXRlQXN5bmNNb2R1bGU8VD4obW9kdWxlTmFtZSwgbW9kdWxlc0xpc3QsIHRoaXMud29ybGQpO1xuICAgICAgdGhpcy5zZXJ2aWNlQXN5bmNbbW9kdWxlTmFtZV0gPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgICAgICBsZXQgbW9kdWxlOiBhbnkgPSBhd2FpdCBtb2R1bGVQcm9taXNlO1xuICAgICAgICBsZXQgc2VydmljZTogQ29tcG9uZW50ID0gbW9kdWxlLmdldFR5cGUgPyBtb2R1bGUgOiBhd2FpdCBtb2R1bGUuY3JlYXRlU2VydmljZSh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlW21vZHVsZU5hbWVdID0gc2VydmljZTsgLy9tb2R1bGUgcmVzb2x2ZWRcbiAgICAgICAgaWYgKHNlcnZpY2UuaW5pdCkge1xuICAgICAgICAgIHNlcnZpY2UuaW5pdCgpOyAvL3NlcnZpY2UgaW5pdFxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoc2VydmljZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLnNlcnZpY2VBc3luY1ttb2R1bGVOYW1lXSkgYXMgVDtcbiAgfVxufVxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9lY3MvQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBMYXp5U2VydmljZXMgfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvc2VydmljZS9MYXp5U2VydmljZXNcIjtcbmltcG9ydCB7IElTZXJ2aWNlLCBJU2VydmljZXMgfSBmcm9tIFwiQHJvb3QvbGliXCI7XG5cbmV4cG9ydCBjbGFzcyBTZXJ2aWNlcyBleHRlbmRzIExhenlTZXJ2aWNlcyBpbXBsZW1lbnRzIENvbXBvbmVudCwgSVNlcnZpY2VzIHtcbiAgZ2V0VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBTZXJ2aWNlcy5uYW1lO1xuICB9XG5cbiAgZ2V0U2VydmljZVN5bmM8VCBleHRlbmRzIElTZXJ2aWNlPihtb2R1bGVOYW1lOiBzdHJpbmcpOiBUIHtcbiAgICBpZiAodGhpcy5zZXJ2aWNlW21vZHVsZU5hbWVdKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlW21vZHVsZU5hbWVdIGFzIFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNlcnZpY2Ugbm90IGZvdW5kIDogXCIgKyBtb2R1bGVOYW1lKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFNlcnZpY2VzIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL3NlcnZpY2UvU2VydmljZXNcIjtcbmltcG9ydCB7IEluaXRpYWxDb21wb25lbnRMb2FkZXIsIENPREVfTE9BREVSX01PRFVMRV9OQU1FIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0luaXRpYWxDb21wb25lbnRMb2FkZXJcIjtcbmltcG9ydCB7IGdldEdsb2JhbFN0b3JhZ2VWYWx1ZSwgR0xPQkFMX0xPQ0FMX01PRFVMRSwgR0xPQkFMX1dPUkxEU19FTlRJVFksIHNldEdsb2JhbFN0b3JhZ2VWYWx1ZSB9IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb3JlL2xvYWRlci9HbG9iYWxcIjtcbmltcG9ydCB7IExvY2FsTW9kdWxlcyB9IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb3JlL2xvYWRlci9Mb2NhbExvYWRlclwiO1xuaW1wb3J0IHsgV29ybGREZWZpbml0aW9uIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL1dvcmxkRGVmaW5pdGlvblwiO1xuaW1wb3J0IHsgV29ybGRFbnRpdHkgfSBmcm9tIFwiQHJvb3QvbGliXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXb3JsZFN5bmMoXG4gIGluaXRpYWxTY2VuZTogV29ybGREZWZpbml0aW9uID0ge1xuICAgIHZlcnNpb246IFwiMi4wXCIsXG4gICAgZW50aXRpZXM6IFtdLFxuICB9LFxuICBsb2FkZWRDYWxsQmFjazogKHByb2dyZXNzOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fSxcbiAgZmluaXNoZWQ6ICh3b3JsZDogV29ybGRFbnRpdHkpID0+IHZvaWQgPSAoKSA9PiB7fSxcbiAgbW9kdWxlU3RvcmFnZT86IExvY2FsTW9kdWxlcyxcbiAgd29ybGQ/OiBXb3JsZEVudGl0eVxuKSB7XG4gIGlmICghd29ybGQpIHtcbiAgICB3b3JsZCA9IG5ldyBXb3JsZEVudGl0eSgpO1xuICB9XG4gIGlmICghZ2V0R2xvYmFsU3RvcmFnZVZhbHVlKEdMT0JBTF9XT1JMRFNfRU5USVRZLCBmYWxzZSkpIHtcbiAgICBzZXRHbG9iYWxTdG9yYWdlVmFsdWUoR0xPQkFMX1dPUkxEU19FTlRJVFksIFt3b3JsZF0pO1xuICB9IGVsc2Uge1xuICAgIGdldEdsb2JhbFN0b3JhZ2VWYWx1ZTxXb3JsZEVudGl0eVtdPihHTE9CQUxfV09STERTX0VOVElUWSkucHVzaCh3b3JsZCk7XG4gIH1cbiAgaWYgKCFtb2R1bGVTdG9yYWdlKSB7XG4gICAgbW9kdWxlU3RvcmFnZSA9IGdldEdsb2JhbFN0b3JhZ2VWYWx1ZTxMb2NhbE1vZHVsZXM+KEdMT0JBTF9MT0NBTF9NT0RVTEUpO1xuICB9XG4gIGxldCBzZXJ2aWNlRW50aXR5ID0gbmV3IFNlcnZpY2VzKHdvcmxkKTtcbiAgd29ybGQuYWRkQ29tcG9uZW50KHNlcnZpY2VFbnRpdHkpO1xuXG4gIGxldCBzdGF0aWNTZXJ2aWNlcyA9IHt9O1xuICBpZiAoIXN0YXRpY1NlcnZpY2VzW0NPREVfTE9BREVSX01PRFVMRV9OQU1FXSkge1xuICAgIHN0YXRpY1NlcnZpY2VzW0NPREVfTE9BREVSX01PRFVMRV9OQU1FXSA9IG5ldyBJbml0aWFsQ29tcG9uZW50TG9hZGVyKCk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gc3RhdGljU2VydmljZXMpIHtcbiAgICB3b3JsZC5nZXRGaXJzdENvbXBvbmVudEJ5VHlwZTxTZXJ2aWNlcz4oU2VydmljZXMubmFtZSkuc2V0U2VydmljZShrZXksIHN0YXRpY1NlcnZpY2VzW2tleV0pO1xuICB9XG5cbiAgKHN0YXRpY1NlcnZpY2VzW0NPREVfTE9BREVSX01PRFVMRV9OQU1FXSBhcyBJbml0aWFsQ29tcG9uZW50TG9hZGVyKS5zdGFydExvYWRpbmcod29ybGQsIGluaXRpYWxTY2VuZSwgbG9hZGVkQ2FsbEJhY2ssIG1vZHVsZVN0b3JhZ2UpLnRoZW4oKCkgPT4ge1xuICAgIGZpbmlzaGVkKHdvcmxkKTtcbiAgfSk7XG4gIHJldHVybiB3b3JsZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdvcmxkKFxuICBpbml0aWFsU2NlbmU6IFdvcmxkRGVmaW5pdGlvbiA9IHtcbiAgICB2ZXJzaW9uOiBcIjIuMFwiLFxuICAgIGVudGl0aWVzOiBbXSxcbiAgfSxcbiAgbG9hZGVkQ2FsbEJhY2s6IChwcm9ncmVzczogbnVtYmVyLCB0b3RhbDogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge30sXG4gIG1vZHVsZVN0b3JhZ2U/OiBMb2NhbE1vZHVsZXMsXG4gIHdvcmxkPzogV29ybGRFbnRpdHlcbikge1xuICByZXR1cm4gbmV3IFByb21pc2U8V29ybGRFbnRpdHk+KChyZXNvbHZlKSA9PiB7XG4gICAgY3JlYXRlV29ybGRTeW5jKGluaXRpYWxTY2VuZSwgbG9hZGVkQ2FsbEJhY2ssIHJlc29sdmUsIG1vZHVsZVN0b3JhZ2UsIHdvcmxkKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBXb3JsZEVudGl0eSB9IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb3JlL2Vjcy9Xb3JsZEVudGl0eVwiO1xuaW1wb3J0IHsgY3JlYXRlV29ybGQgfSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9sb2FkZXIvQmFzaWNJbml0XCI7XG5pbXBvcnQgeyBXb3JsZERlZmluaXRpb24sIFdvcmxkRGVmaW5pdGlvblYyIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL1dvcmxkRGVmaW5pdGlvblwiO1xuXG5leHBvcnQgY29uc3QgQlVJTERfVkVSU0lPTiA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbjtcbmNvbnNvbGUubG9nKFwiQXhvbG90aXMtcGxheWVyIHZlcnNpb24gOlwiICsgQlVJTERfVkVSU0lPTik7XG5cbmNvbnN0IHdpbmRvd1JlYWR5ID0gKGNhbGxCYWNrOiAoKSA9PiB2b2lkKSA9PiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgJiYgZG9jdW1lbnQuYm9keSkge1xuICAgIGNhbGxCYWNrKCk7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGNhbGxCYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRIdG1sRnJvbVVybChcbiAgdXJsOiBzdHJpbmcsXG4gIGNvbmZpZzoge1xuICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IG51bWJlciwgdG90YWw6IG51bWJlcikgPT4gdm9pZDtcbiAgICBvbkxvYWRlZD86ICgpID0+IHZvaWQ7XG4gIH0gPSB7fVxuKTogUHJvbWlzZTxXb3JsZEVudGl0eT4ge1xuICBpZiAoIWNvbmZpZy5vblByb2dyZXNzKSB7XG4gICAgY29uZmlnLm9uUHJvZ3Jlc3MgPSAocHJvZ3Jlc3M6IG51bWJlciwgdG90YWw6IG51bWJlcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJbXCIgKyB1cmwgKyBcIl0gOiBbXCIgKyBwcm9ncmVzcyArIFwiL1wiICsgdG90YWwgKyBcIl1cIik7XG4gICAgfTtcbiAgfVxuICBpZiAoIWNvbmZpZy5vbkxvYWRlZCkge1xuICAgIGNvbmZpZy5vbkxvYWRlZCA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW1wiICsgdXJsICsgXCJdIDogbG9hZGluZyBjb21wbGV0ZVwiKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICBjb25zdCBodG1sID0gYXdhaXQgci50ZXh0KCk7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWwsIFwidGV4dC9odG1sXCIpO1xuICBsZXQgc2NlbmU6IEhUTUxDb2xsZWN0aW9uID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImF4LXNjZW5lXCIpOyAvL1RPRE8gYXNzdW1lIG9ubHkgb25lIHNjZW5lXG4gIGlmICghc2NlbmUgfHwgKHNjZW5lICYmIHNjZW5lLmxlbmd0aCA9PSAwKSkge1xuICAgIGNvbnNvbGUud2FybihcIkF4b2xvdGlzIHNjZW5lIG5vdCBmb3VuZCAobm8gdGFnIGF4LXNjZW5lKVwiKTtcbiAgICBjb25maWcub25Mb2FkZWQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5sb2coc2NlbmUpO1xuICBjb25zdCB3b3JsZCA9IGF3YWl0IGNyZWF0ZVdvcmxkKGh0bWxUb0pzb24oc2NlbmUpLCBjb25maWcub25Qcm9ncmVzcyk7XG4gIGNvbmZpZy5vbkxvYWRlZCgpO1xuICByZXR1cm4gd29ybGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0SHRtbChcbiAgY29uZmlnOiB7XG4gICAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyLCB0b3RhbDogbnVtYmVyKSA9PiB2b2lkO1xuICAgIG9uTG9hZGVkPzogKHdvcmxkOiBXb3JsZEVudGl0eSkgPT4gdm9pZDtcbiAgfSA9IHt9XG4pIHtcbiAgaWYgKCFjb25maWcub25Qcm9ncmVzcykge1xuICAgIGNvbmZpZy5vblByb2dyZXNzID0gKHByb2dyZXNzOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW1wiICsgcHJvZ3Jlc3MgKyBcIi9cIiArIHRvdGFsICsgXCJdXCIpO1xuICAgIH07XG4gIH1cbiAgaWYgKCFjb25maWcub25Mb2FkZWQpIHtcbiAgICBjb25maWcub25Mb2FkZWQgPSAod29ybGQ6IFdvcmxkRW50aXR5KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgY29tcGxldGVcIik7XG4gICAgfTtcbiAgfVxuICB3aW5kb3dSZWFkeSgoKSA9PiB7XG4gICAgbGV0IHNjZW5lOiBIVE1MQ29sbGVjdGlvbiA9IHdpbmRvdy5kb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYXgtc2NlbmVcIik7IC8vVE9ETyBhc3N1bWUgb25seSBvbmUgc2NlbmVcbiAgICBpZiAoIXNjZW5lIHx8IChzY2VuZSAmJiBzY2VuZS5sZW5ndGggPT0gMCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkF4b2xvdGlzIHNjZW5lIG5vdCBmb3VuZCAobm8gdGFnIGF4LXNjZW5lKVwiKTtcbiAgICAgIGNyZWF0ZVdvcmxkKCkudGhlbihjb25maWcub25Mb2FkZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhzY2VuZSk7XG4gICAgY3JlYXRlV29ybGQoaHRtbFRvSnNvbihzY2VuZSksIGNvbmZpZy5vblByb2dyZXNzKS50aGVuKGNvbmZpZy5vbkxvYWRlZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBodG1sVG9Kc29uKHNjZW5lOiBIVE1MQ29sbGVjdGlvbik6IFdvcmxkRGVmaW5pdGlvbiB7XG4gIGxldCBzY2VuZUVsID0gc2NlbmVbMF07XG4gIGNvbnN0IHJldDogV29ybGREZWZpbml0aW9uVjIgPSB7XG4gICAgdmVyc2lvbjogXCIyLjBcIixcbiAgICBlbnRpdGllczogW10sXG4gIH07XG4gIC8vIEB0cy1pZ25vcmVcbiAgZm9yIChjb25zdCBlbnRpdHkgb2Ygc2NlbmVFbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImF4LWVudGl0eVwiKSkge1xuICAgIGxldCBlbnRpdHlSZXQgPSB7IGNvbXBvbmVudHM6IFtdIH07XG5cbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudEVsIG9mIGVudGl0eS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImF4LWNvbXBvbmVudFwiKSkge1xuICAgICAgbGV0IGNvcnJlY3RKc29uID0gSlNPTi5zdHJpbmdpZnkoe30pO1xuICAgICAgaWYgKGNvbXBvbmVudEVsLmdldEF0dHJpYnV0ZShcImNvbmZpZ1wiKSkge1xuICAgICAgICAvL2NvbnZlcnQgcmVsYXhlZCBqc29uIHRvIHByb3BlciBqc29uXG4gICAgICAgIGNvcnJlY3RKc29uID0gY29tcG9uZW50RWwuZ2V0QXR0cmlidXRlKFwiY29uZmlnXCIpLnJlcGxhY2UoLyhbJ1wiXSk/KFthLXowLTlBLVpfXSspKFsnXCJdKT86L2csICdcIiQyXCI6ICcpO1xuICAgICAgfVxuICAgICAgbGV0IGNvbXBvbmVudCA9IHtcbiAgICAgICAgbW9kdWxlOiBjb21wb25lbnRFbC5nZXRBdHRyaWJ1dGUoXCJtb2R1bGVcIiksXG4gICAgICAgIGNvbmZpZzogSlNPTi5wYXJzZShjb3JyZWN0SnNvbiksXG4gICAgICB9O1xuICAgICAgZW50aXR5UmV0LmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIH1cbiAgICByZXQuZW50aXRpZXMucHVzaChlbnRpdHlSZXQpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4iLCJpbXBvcnQgeyBnZXRHbG9iYWxTdG9yYWdlVmFsdWUsIEdMT0JBTF9XT1JMRFNfRU5USVRZLCBJU2VydmljZSwgU2VydmljZXMsIFdvcmxkRW50aXR5IH0gZnJvbSBcIkByb290L2xpYlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsV29ybGQoKSB7XG4gIGxldCB3b3JsZHMgPSBnZXRHbG9iYWxTdG9yYWdlVmFsdWU8V29ybGRFbnRpdHlbXT4oR0xPQkFMX1dPUkxEU19FTlRJVFksIGZhbHNlKTtcbiAgaWYgKHdvcmxkcyAmJiB3b3JsZHMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB3b3JsZHNbMF07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gQXhvbG90aXMgd29ybGQgaW5pdGlhbGl6ZWRcIik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZpY2VTeW5jPFQgZXh0ZW5kcyBJU2VydmljZT4oc2VydmljZU5hbWU6IHN0cmluZywgd29ybGQ6IFdvcmxkRW50aXR5ID0gbnVsbCk6IFQge1xuICBpZiAoIXdvcmxkKSB7XG4gICAgd29ybGQgPSBnZXRHbG9iYWxXb3JsZCgpO1xuICB9XG4gIHJldHVybiB3b3JsZC5nZXRGaXJzdENvbXBvbmVudEJ5VHlwZTxTZXJ2aWNlcz4oU2VydmljZXMubmFtZSkuZ2V0U2VydmljZVN5bmM8VD4oc2VydmljZU5hbWUpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmljZTxUIGV4dGVuZHMgSVNlcnZpY2U+KHNlcnZpY2VOYW1lOiBzdHJpbmcsIHdvcmxkOiBXb3JsZEVudGl0eSA9IG51bGwpOiBQcm9taXNlPFQ+IHtcbiAgaWYgKCF3b3JsZCkge1xuICAgIHdvcmxkID0gZ2V0R2xvYmFsV29ybGQoKTtcbiAgfVxuICByZXR1cm4gd29ybGQuZ2V0Rmlyc3RDb21wb25lbnRCeVR5cGU8U2VydmljZXM+KFNlcnZpY2VzLm5hbWUpLmdldFNlcnZpY2U8VD4oc2VydmljZU5hbWUpO1xufVxuIiwiaW1wb3J0IEVudGl0eSBmcm9tIFwiQHJvb3QvbGliL21vZHVsZXMvY29yZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBpbnN0YW50aWF0ZUFzeW5jTW9kdWxlIH0gZnJvbSBcIkByb290L2xpYi9tb2R1bGVzL2NvcmUvbG9hZGVyL0pzTG9hZGVyXCI7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCJAcm9vdC9saWIvbW9kdWxlcy9jb3JlL2Vjcy9Db21wb25lbnRcIjtcbmltcG9ydCB7IENPREVfTE9BREVSX01PRFVMRV9OQU1FLCBJbml0aWFsQ29tcG9uZW50TG9hZGVyLCBTZXJ2aWNlcywgV29ybGRFbnRpdHkgfSBmcm9tIFwiQHJvb3QvbGliXCI7XG5cbmV4cG9ydCBjbGFzcyBMYXp5RW50aXR5IGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB3b3JsZDogV29ybGRFbnRpdHkpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgYXN5bmMgYWRkQ29tcG9uZW50QXN5bmM8VCBleHRlbmRzIENvbXBvbmVudD4obW9kdWxlTmFtZTogc3RyaW5nLCBjb25maWc6IGFueSA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgbGV0IHNlcnZpY2VzID0gdGhpcy53b3JsZC5nZXRGaXJzdENvbXBvbmVudEJ5VHlwZTxTZXJ2aWNlcz4oU2VydmljZXMubmFtZSk7XG4gICAgbGV0IGNvZGVMb2FkZXIgPSBhd2FpdCBzZXJ2aWNlcy5nZXRTZXJ2aWNlPEluaXRpYWxDb21wb25lbnRMb2FkZXI+KENPREVfTE9BREVSX01PRFVMRV9OQU1FKTtcbiAgICBsZXQgbW9kdWxlUHJvbWlzZSA9IGluc3RhbnRpYXRlQXN5bmNNb2R1bGU8VD4obW9kdWxlTmFtZSwgY29kZUxvYWRlci5nZXRNb2R1bGVTdG9yYWdlKCksIHRoaXMud29ybGQsIGNvbmZpZyB8fCB7fSk7XG5cbiAgICBsZXQgbW9kdWxlOiBhbnkgPSBhd2FpdCBhd2FpdCBtb2R1bGVQcm9taXNlO1xuICAgIGxldCBjb21wb25lbnQgPSBtb2R1bGUuZ2V0VHlwZSA/IG1vZHVsZSA6ICgoYXdhaXQgbW9kdWxlLmNyZWF0ZUNvbXBvbmVudCh0aGlzLndvcmxkLCBjb25maWcgfHwge30pKSBhcyBDb21wb25lbnQpO1xuICAgIHJldHVybiBjb21wb25lbnQgYXMgVDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUeXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIExhenlFbnRpdHkubmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlUHJvbWlzZSwgcmVnaXN0ZXJMb2NhbE1vZHVsZSB9IGZyb20gXCJAcm9vdC9saWJcIjtcblxuLyoqXG4gKiBBbiBJdGVtIChvciBTbWFydEl0ZW0pIGlzIGEgc2V0IG9mIE1vZHVsZSAoU2VydmljZXMgYW5kL29yIENvbXBvbmVudClcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJdGVtIHtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIEFzeW5jaHJvbm91cy9EeW5hbWljIENvbXBvbmVudCBvciBTZXJ2aWNlXG4gICAqL1xuICBtb2R1bGVzKCk6IHsgW2lkOiBzdHJpbmddOiBNb2R1bGVQcm9taXNlIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckl0ZW0oaXRlbTogSXRlbSkge1xuICBsZXQgbW9kdWxlcyA9IGl0ZW0ubW9kdWxlcygpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBtb2R1bGVzKSB7XG4gICAgcmVnaXN0ZXJMb2NhbE1vZHVsZShrZXksIG1vZHVsZXNba2V5XSk7XG4gIH1cbn1cbiIsIi8qXG4gKiBEZWZpbmVzIHdoYXQgaXMgZXhwb3J0ZWRcbiAqICovXG5leHBvcnQgKiBmcm9tIFwiLi9tb2R1bGVzL2NvcmUvZWNzL0NvbXBvbmVudFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2Vjcy9Db21wb25lbnRGYWN0b3J5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2R1bGVzL2NvcmUvZWNzL0VudGl0eVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2Vjcy9Xb3JsZEVudGl0eVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2xvYWRlci9HbG9iYWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21vZHVsZXMvY29yZS9sb2FkZXIvQmFzaWNJbml0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2R1bGVzL2NvcmUvbG9hZGVyL0RvbUluaXRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21vZHVsZXMvY29yZS9sb2FkZXIvQmFzaWNJbml0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2R1bGVzL2NvcmUvbG9hZGVyL0luaXRpYWxDb21wb25lbnRMb2FkZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21vZHVsZXMvY29yZS9sb2FkZXIvc2VydmljZS9MYXp5U2VydmljZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21vZHVsZXMvY29yZS9sb2FkZXIvc2VydmljZS9TZXJ2aWNlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2R1bGVzL2NvcmUvbG9hZGVyL3NlcnZpY2UvU2VydmljZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21vZHVsZXMvY29yZS9sb2FkZXIvc2VydmljZS9JU2VydmljZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2xvYWRlci9zZXJ2aWNlL1NlcnZpY2VVdGlsc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2xvYWRlci9zZXJ2aWNlL0lTZXJ2aWNlc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2xvYWRlci9Mb2NhbExvYWRlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2xvYWRlci9lbnRpdHkvTGF6eUVudGl0eVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kdWxlcy9jb3JlL2xvYWRlci9JdGVtXCI7XG4iXSwibmFtZXMiOlsiRW50aXR5IiwiY29uc3RydWN0b3IiLCJhZGRDb21wb25lbnQiLCJjb21wb25lbnQiLCJpbml0IiwiY29tcG9uZW50cyIsInB1c2giLCJyZW1vdmVBbGxDb21wb25lbnRzIiwiZm9yRWFjaCIsImNvbXAiLCJyZW1vdmVDb21wb25lbnQiLCJkZXN0cm95IiwiZmlsdGVyIiwiYWRkQ29tcG9uZW50cyIsImdldENvbXBvbmVudHMiLCJnZXRDb21wb25lbnRCeVR5cGUiLCJ0eXBlIiwicmV0IiwiZ2V0VHlwZSIsImdldENvbXBvbmVudEJ5VHlwZVN0YXJ0c1dpdGgiLCJzdGFydHNXaXRoIiwiZ2V0Rmlyc3RDb21wb25lbnRCeVR5cGVTdGFydHNXaXRoIiwiZ2V0Rmlyc3RDb21wb25lbnRCeVR5cGUiLCJuYW1lIiwiV29ybGRFbnRpdHkiLCJheG9sb3RpcyIsIkdMT0JBTF9XT1JMRFNfRU5USVRZIiwiR0xPQkFMX0xPQ0FMX01PRFVMRSIsImdldEdsb2JhbFN0b3JhZ2UiLCJ3aW5kb3ciLCJzZXRHbG9iYWxTdG9yYWdlVmFsdWUiLCJrZXkiLCJ2YWx1ZSIsImdsb2JhbFN0b3JhZ2UiLCJnZXRHbG9iYWxTdG9yYWdlVmFsdWUiLCJhdXRvIiwiU2VydmljZXMiLCJyZWdpc3RlckxvY2FsTW9kdWxlIiwibW9kdWxlIiwibW9kdWxlU3RvcmFnZSIsIkVycm9yIiwiZ2V0Q2xhc3NOYW1lIiwiY2xhc3NuYW1lIiwiZGVmYXVsdCIsImNvbnNvbGUiLCJlcnJvciIsImluc3RhbnRpYXRlTG9jYWxBc3luY01vZHVsZSIsImZxY24iLCJsb2NhbE1vZHVsZXMiLCJ3b3JsZCIsImNvbmZpZyIsImxvY2FsTW9kdWxlIiwic3ViIiwicHJvdG90eXBlIiwiRGVwZW5kZW5jeUNvbXBvbmVudExpc3QiLCJkZXBlbmRlbmNpZXMiLCJpIiwibGVuZ3RoIiwiZGVwIiwic2VydmljZXMiLCJzZXJ2aWNlIiwiZ2V0U2VydmljZSIsInVuZGVmaW5lZCIsImluc3RhbnRpYXRlQXN5bmNNb2R1bGUiLCJtb2R1bGVOYW1lIiwibG9nIiwibG9hZCIsIm1vZHVsZXMiLCJsb2FkZWRDYWxsQmFjayIsIm5iTG9hZGVkIiwicHJvbWlzZUNiIiwicHJvbWlzZSIsInRoZW4iLCJQcm9taXNlIiwiYWxsIiwiQ09ERV9MT0FERVJfTU9EVUxFX05BTUUiLCJJbml0aWFsQ29tcG9uZW50TG9hZGVyIiwiaW5pdGlhbExvYWRpbmciLCJyZXNvbHZlIiwiaW5pdGlhbExvYWRpbmdSZXNvbHZlciIsImdldE1vZHVsZVN0b3JhZ2UiLCJhd2FpdEluaXRpYWxMb2FkaW5nIiwic3RhcnRMb2FkaW5nIiwic2NlbmUiLCJ2ZXJzaW9uIiwicHJvbWlzZXMiLCJlbnRpdHkiLCJlbnRpdGllcyIsImNvbXBvbmVudERlZiIsInJlamVjdCIsImNyZWF0ZUNvbXBvbmVudCIsImNhdGNoIiwicmVhc29uIiwiTGF6eVNlcnZpY2VzIiwiZ2V0V29ybGQiLCJzZXRTZXJ2aWNlIiwicmVwbGFjZSIsInNlcnZpY2VBc3luYyIsIm1vZHVsZXNMaXN0IiwibW9kdWxlUHJvbWlzZSIsImNyZWF0ZVNlcnZpY2UiLCJnZXRTZXJ2aWNlU3luYyIsImNyZWF0ZVdvcmxkU3luYyIsImluaXRpYWxTY2VuZSIsImZpbmlzaGVkIiwic2VydmljZUVudGl0eSIsInN0YXRpY1NlcnZpY2VzIiwiY3JlYXRlV29ybGQiLCJCVUlMRF9WRVJTSU9OIiwicmVxdWlyZSIsIndpbmRvd1JlYWR5IiwiY2FsbEJhY2siLCJkb2N1bWVudCIsInJlYWR5U3RhdGUiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRIdG1sRnJvbVVybCIsInVybCIsIm9uUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsInRvdGFsIiwib25Mb2FkZWQiLCJyIiwiZmV0Y2giLCJodG1sIiwidGV4dCIsInBhcnNlciIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwid2FybiIsImh0bWxUb0pzb24iLCJpbml0SHRtbCIsInNjZW5lRWwiLCJlbnRpdHlSZXQiLCJjb21wb25lbnRFbCIsImNvcnJlY3RKc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldEF0dHJpYnV0ZSIsInBhcnNlIiwiZ2V0R2xvYmFsV29ybGQiLCJ3b3JsZHMiLCJzZXJ2aWNlTmFtZSIsIkxhenlFbnRpdHkiLCJhZGRDb21wb25lbnRBc3luYyIsImNvZGVMb2FkZXIiLCJyZWdpc3Rlckl0ZW0iLCJpdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///660\n')},147:function(e){e.exports={i8:"2.0.0"}}},__webpack_module_cache__={};function __nested_webpack_require_72666__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__nested_webpack_require_72666__),n.exports}__nested_webpack_require_72666__.d=function(e,t){for(var n in t)__nested_webpack_require_72666__.o(t,n)&&!__nested_webpack_require_72666__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_72666__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__nested_webpack_require_72666__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__nested_webpack_require_72666__(660);return __webpack_exports__}()}))},206:(e,t,n)=>{e.exports=n(57)},387:(e,t,n)=>{"use strict";var r=n(485),o=n(570),i=n(940),a=n(581),s=n(574),c=n(845),l=n(338),u=n(524);e.exports=function xhrAdapter(e){return new Promise((function dispatchXhrRequest(t,n){var d=e.data,h=e.headers,p=e.responseType;r.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(m+":"+g)}var b=s(e.baseURL,e.url);function onloadend(){if(f){var r="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};o(t,n,i),f=null}}if(f.open(e.method.toUpperCase(),a(b,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=onloadend:f.onreadystatechange=function handleLoad(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(onloadend)},f.onabort=function handleAbort(){f&&(n(u("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function handleError(){n(u("Network Error",e,null,f)),f=null},f.ontimeout=function handleTimeout(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||l(b))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}"setRequestHeader"in f&&r.forEach(h,(function setRequestHeader(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),p&&"json"!==p&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function onCanceled(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},57:(e,t,n)=>{"use strict";var r=n(485),o=n(875),i=n(29),a=n(941);function createInstance(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=createInstance(n(141));s.Axios=i,s.create=function create(e){return createInstance(a(s.defaults,e))},s.Cancel=n(132),s.CancelToken=n(603),s.isCancel=n(475),s.all=function all(e){return Promise.all(e)},s.spread=n(739),s.isAxiosError=n(835),e.exports=s,e.exports.default=s},132:e=>{"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,e.exports=Cancel},603:(e,t,n)=>{"use strict";var r=n(132);function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function promiseExecutor(e){t=e}));var n=this;e((function cancel(e){n.reason||(n.reason=new r(e),t(n.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var e;return{token:new CancelToken((function executor(t){e=t})),cancel:e}},e.exports=CancelToken},475:e=>{"use strict";e.exports=function isCancel(e){return!(!e||!e.__CANCEL__)}},29:(e,t,n)=>{"use strict";var r=n(485),o=n(581),i=n(96),a=n(9),s=n(941),c=n(144),l=c.validators;function Axios(e){this.defaults=e,this.interceptors={request:new i,response:new i}}Axios.prototype.request=function request(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function unshiftRequestInterceptors(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function pushResponseInterceptors(e){i.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(i),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var d=e;n.length;){var h=n.shift(),p=n.shift();try{d=h(d)}catch(e){p(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},Axios.prototype.getUri=function getUri(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function forEachMethodNoData(e){Axios.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function forEachMethodWithData(e){Axios.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=Axios},96:(e,t,n)=>{"use strict";var r=n(485);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function forEach(e){r.forEach(this.handlers,(function forEachHandler(t){null!==t&&e(t)}))},e.exports=InterceptorManager},574:(e,t,n)=>{"use strict";var r=n(642),o=n(288);e.exports=function buildFullPath(e,t){return e&&!r(t)?o(e,t):t}},524:(e,t,n)=>{"use strict";var r=n(953);e.exports=function createError(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},9:(e,t,n)=>{"use strict";var r=n(485),o=n(212),i=n(475),a=n(141);function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function onAdapterResolution(t){return throwIfCancellationRequested(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function onAdapterRejection(t){return i(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},953:e=>{"use strict";e.exports=function enhanceError(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},941:(e,t,n)=>{"use strict";var r=n(485);e.exports=function mergeConfig(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function getMergedValue(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function mergeDeepProperties(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=getMergedValue(void 0,e[o])):n[o]=getMergedValue(e[o],t[o])}r.forEach(o,(function valueFromConfig2(e){r.isUndefined(t[e])||(n[e]=getMergedValue(void 0,t[e]))})),r.forEach(i,mergeDeepProperties),r.forEach(a,(function defaultToConfig2(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=getMergedValue(void 0,e[o])):n[o]=getMergedValue(void 0,t[o])})),r.forEach(s,(function merge(r){r in t?n[r]=getMergedValue(e[r],t[r]):r in e&&(n[r]=getMergedValue(void 0,e[r]))}));var c=o.concat(i).concat(a).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function filterAxiosKeys(e){return-1===c.indexOf(e)}));return r.forEach(l,mergeDeepProperties),n}},570:(e,t,n)=>{"use strict";var r=n(524);e.exports=function settle(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},212:(e,t,n)=>{"use strict";var r=n(485),o=n(141);e.exports=function transformData(e,t,n){var i=this||o;return r.forEach(n,(function transform(n){e=n.call(i,e,t)})),e}},141:(e,t,n)=>{"use strict";var r=n(485),o=n(446),i=n(953),a={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(387)),e}(),transformRequest:[function transformRequest(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(setContentTypeIfUnset(t,"application/json"),function stringifySafely(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function transformResponse(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function validateStatus(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function forEachMethodNoData(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function forEachMethodWithData(e){s.headers[e]=r.merge(a)})),e.exports=s},875:e=>{"use strict";e.exports=function bind(e,t){return function wrap(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},581:(e,t,n)=>{"use strict";var r=n(485);function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function serialize(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function parseValue(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(encode(t)+"="+encode(e))})))})),o=i.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},288:e=>{"use strict";e.exports=function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},940:(e,t,n)=>{"use strict";var r=n(485);e.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function read(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},642:e=>{"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},835:e=>{"use strict";e.exports=function isAxiosError(e){return"object"==typeof e&&!0===e.isAxiosError}},338:(e,t,n)=>{"use strict";var r=n(485);e.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function resolveURL(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=resolveURL(window.location.href),function isURLSameOrigin(t){var n=r.isString(t)?resolveURL(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function isURLSameOrigin(){return!0}},446:(e,t,n)=>{"use strict";var r=n(485);e.exports=function normalizeHeaderName(e,t){r.forEach(e,(function processHeader(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},845:(e,t,n)=>{"use strict";var r=n(485),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function parser(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},739:e=>{"use strict";e.exports=function spread(e){return function wrap(t){return e.apply(null,t)}}},144:(e,t,n)=>{"use strict";var r=n(843),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function validator(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=r.version.split(".");function isOlderVersion(e,t){for(var n=t?t.split("."):a,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function transitional(e,t,n){var o=t&&isOlderVersion(t);function formatMessage(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(formatMessage(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(formatMessage(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion,assertOptions:function assertOptions(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},485:(e,t,n)=>{"use strict";var r=n(875),o=Object.prototype.toString;function isArray(e){return"[object Array]"===o.call(e)}function isUndefined(e){return void 0===e}function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function isFunction(e){return"[object Function]"===o.call(e)}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray,isArrayBuffer:function isArrayBuffer(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function isString(e){return"string"==typeof e},isNumber:function isNumber(e){return"number"==typeof e},isObject,isPlainObject,isUndefined,isDate:function isDate(e){return"[object Date]"===o.call(e)},isFile:function isFile(e){return"[object File]"===o.call(e)},isBlob:function isBlob(e){return"[object Blob]"===o.call(e)},isFunction,isStream:function isStream(e){return isObject(e)&&isFunction(e.pipe)},isURLSearchParams:function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach,merge:function merge(){var e={};function assignValue(t,n){isPlainObject(e[n])&&isPlainObject(t)?e[n]=merge(e[n],t):isPlainObject(t)?e[n]=merge({},t):isArray(t)?e[n]=t.slice():e[n]=t}for(var t=0,n=arguments.length;t<n;t++)forEach(arguments[t],assignValue);return e},extend:function extend(e,t,n){return forEach(t,(function assignValue(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},996:e=>{"use strict";var t=function isMergeableObject(e){return function isNonNullObject(e){return!!e&&"object"==typeof e}(e)&&!function isSpecial(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function isReactElement(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(e,t){return!1!==t.clone&&t.isMergeableObject(e)?deepmerge(function emptyTarget(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function defaultArrayMerge(e,t,n){return e.concat(t).map((function(e){return cloneUnlessOtherwiseSpecified(e,n)}))}function getKeys(e){return Object.keys(e).concat(function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function propertyIsOnObject(e,t){try{return t in e}catch(e){return!1}}function deepmerge(e,n,r){(r=r||{}).arrayMerge=r.arrayMerge||defaultArrayMerge,r.isMergeableObject=r.isMergeableObject||t,r.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var o=Array.isArray(n);return o===Array.isArray(e)?o?r.arrayMerge(e,n,r):function mergeObject(e,t,n){var r={};return n.isMergeableObject(e)&&getKeys(e).forEach((function(t){r[t]=cloneUnlessOtherwiseSpecified(e[t],n)})),getKeys(t).forEach((function(o){(function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(propertyIsOnObject(e,o)&&n.isMergeableObject(t[o])?r[o]=function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var n=t.customMerge(e);return"function"==typeof n?n:deepmerge}(o,n)(e[o],t[o],n):r[o]=cloneUnlessOtherwiseSpecified(t[o],n))})),r}(e,n,r):cloneUnlessOtherwiseSpecified(n,r)}deepmerge.all=function deepmergeAll(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return deepmerge(e,n,t)}),{})};var r=deepmerge;e.exports=r},481:(e,t,n)=>{"use strict";var r=n(177),o=r.ValidatorResult,i=r.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},s=a.validators={};function testSchemaNoThrow(e,t,n,r,o){var i=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,o,t,n);return t.throwError=i,t.throwAll=a,!s.valid&&r instanceof Function&&r(s),s.valid}function getEnumerableProperty(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function testAdditionalProperty(e,t,n,r,o,i){if(this.types.object(e)&&(!t.properties||void 0===t.properties[o]))if(!1===t.additionalProperties)i.addError({name:"additionalProperties",argument:o,message:"is not allowed to have the additional property "+JSON.stringify(o)});else{var a=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,o,a,n,r);var s=this.validateSchema(e[o],a,n,r.makeChild(a,o));s.instance!==i.instance[o]&&(i.instance[o]=s.instance),i.importErrors(s)}}s.type=function validateType(e,t,n,r){if(void 0===e)return null;var i=new o(e,t,n,r),a=Array.isArray(t.type)?t.type:[t.type];if(!a.some(this.testType.bind(this,e,t,n,r))){var s=a.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));i.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return i},s.anyOf=function validateAnyOf(e,t,n,r){if(void 0===e)return null;var a=new o(e,t,n,r),s=new o(e,t,n,r);if(!Array.isArray(t.anyOf))throw new i("anyOf must be an array");if(!t.anyOf.some(testSchemaNoThrow.bind(this,e,n,r,(function(e){s.importErrors(e)})))){var c=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return a},s.allOf=function validateAllOf(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new i("allOf must be an array");var a=new o(e,t,n,r),s=this;return t.allOf.forEach((function(t,o){var i=s.validateSchema(e,t,n,r);if(!i.valid){var c=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+o+"]";a.addError({name:"allOf",argument:{id:c,length:i.errors.length,valid:i},message:"does not match allOf schema "+c+" with "+i.errors.length+" error[s]:"}),a.importErrors(i)}})),a},s.oneOf=function validateOneOf(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new i("oneOf must be an array");var a=new o(e,t,n,r),s=new o(e,t,n,r),c=t.oneOf.filter(testSchemaNoThrow.bind(this,e,n,r,(function(e){s.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==c&&(n.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),a},s.if=function validateIf(e,t,n,i){if(void 0===e)return null;if(!r.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a,s=testSchemaNoThrow.call(this,e,n,i,null,t.if),c=new o(e,t,n,i);if(s){if(void 0===t.then)return;if(!r.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,n,i.makeChild(t.then)),c.importErrors(a)}else{if(void 0===t.else)return;if(!r.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,n,i.makeChild(t.else)),c.importErrors(a)}return c},s.propertyNames=function validatePropertyNames(e,t,n,a){if(this.types.object(e)){var s=new o(e,t,n,a),c=void 0!==t.propertyNames?t.propertyNames:{};if(!r.isSchema(c))throw new i('Expected "propertyNames" to be a schema (object or boolean)');for(var l in e)if(void 0!==getEnumerableProperty(e,l)){var u=this.validateSchema(l,c,n,a.makeChild(c));s.importErrors(u)}return s}},s.properties=function validateProperties(e,t,n,r){if(this.types.object(e)){var a=new o(e,t,n,r),s=t.properties||{};for(var c in s){var l=s[c];if(void 0!==l){if(null===l)throw new i('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,l,n,r);var u=getEnumerableProperty(e,c),d=this.validateSchema(u,l,n,r.makeChild(l,c));d.instance!==a.instance[c]&&(a.instance[c]=d.instance),a.importErrors(d)}}return a}},s.patternProperties=function validatePatternProperties(e,t,n,r){if(this.types.object(e)){var a=new o(e,t,n,r),s=t.patternProperties||{};for(var c in e){var l=!0;for(var u in s){var d=s[u];if(void 0!==d){if(null===d)throw new i('Unexpected null, expected schema in "patternProperties"');try{var h=new RegExp(u,"u")}catch(e){h=new RegExp(u)}if(h.test(c)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,d,n,r);var p=this.validateSchema(e[c],d,n,r.makeChild(d,c));p.instance!==a.instance[c]&&(a.instance[c]=p.instance),a.importErrors(p)}}}l&&testAdditionalProperty.call(this,e,t,n,r,c,a)}return a}},s.additionalProperties=function validateAdditionalProperties(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var i=new o(e,t,n,r);for(var a in e)testAdditionalProperty.call(this,e,t,n,r,a,i);return i}},s.minProperties=function validateMinProperties(e,t,n,r){if(this.types.object(e)){var i=new o(e,t,n,r);return Object.keys(e).length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i}},s.maxProperties=function validateMaxProperties(e,t,n,r){if(this.types.object(e)){var i=new o(e,t,n,r);return Object.keys(e).length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i}},s.items=function validateItems(e,t,n,r){var i=this;if(this.types.array(e)&&void 0!==t.items){var a=new o(e,t,n,r);return e.every((function(e,o){if(Array.isArray(t.items))var s=void 0===t.items[o]?t.additionalItems:t.items[o];else s=t.items;if(void 0===s)return!0;if(!1===s)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=i.validateSchema(e,s,n,r.makeChild(s,o));return c.instance!==a.instance[o]&&(a.instance[o]=c.instance),a.importErrors(c),!0})),a}},s.contains=function validateContains(e,t,n,i){var a=this;if(this.types.array(e)&&void 0!==t.contains){if(!r.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var s=new o(e,t,n,i);return!1===e.some((function(e,r){return 0===a.validateSchema(e,t.contains,n,i.makeChild(t.contains,r)).errors.length}))&&s.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),s}},s.minimum=function validateMinimum(e,t,n,r){if(this.types.number(e)){var i=new o(e,t,n,r);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||i.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||i.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),i}},s.maximum=function validateMaximum(e,t,n,r){if(this.types.number(e)){var i=new o(e,t,n,r);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||i.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||i.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),i}},s.exclusiveMinimum=function validateExclusiveMinimum(e,t,n,r){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var i=new o(e,t,n,r);return e>t.exclusiveMinimum||i.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),i}},s.exclusiveMaximum=function validateExclusiveMaximum(e,t,n,r){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var i=new o(e,t,n,r);return e<t.exclusiveMaximum||i.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),i}};var c=function validateMultipleOfOrDivisbleBy(e,t,n,a,s,c){if(this.types.number(e)){var l=t[s];if(0==l)throw new i(s+" cannot be zero");var u=new o(e,t,n,a),d=r.getDecimalPlaces(e),h=r.getDecimalPlaces(l),p=Math.max(d,h),f=Math.pow(10,p);return Math.round(e*f)%Math.round(l*f)!=0&&u.addError({name:s,argument:l,message:c+JSON.stringify(l)}),u}};function testArrays(e,t,n){var o,i=n.length;for(o=t+1;o<i;o++)if(r.deepCompareStrict(e,n[o]))return!1;return!0}s.multipleOf=function validateMultipleOf(e,t,n,r){return c.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function validateDivisibleBy(e,t,n,r){return c.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},s.required=function validateRequired(e,t,n,r){var i=new o(e,t,n,r);return void 0===e&&!0===t.required?i.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===getEnumerableProperty(e,t)&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),i},s.pattern=function validatePattern(e,t,n,r){if(this.types.string(e)){var i=new o(e,t,n,r),a=t.pattern;try{var s=new RegExp(a,"u")}catch(e){s=new RegExp(a)}return e.match(s)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),i}},s.format=function validateFormat(e,t,n,i){if(void 0!==e){var a=new o(e,t,n,i);return a.disableFormat||r.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}},s.minLength=function validateMinLength(e,t,n,r){if(this.types.string(e)){var i=new o(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i}},s.maxLength=function validateMaxLength(e,t,n,r){if(this.types.string(e)){var i=new o(e,t,n,r),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i}},s.minItems=function validateMinItems(e,t,n,r){if(this.types.array(e)){var i=new o(e,t,n,r);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i}},s.maxItems=function validateMaxItems(e,t,n,r){if(this.types.array(e)){var i=new o(e,t,n,r);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i}},s.uniqueItems=function validateUniqueItems(e,t,n,r){if(!0===t.uniqueItems&&this.types.array(e)){var i=new o(e,t,n,r);return e.every(testArrays)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i}},s.dependencies=function validateDependencies(e,t,n,r){if(this.types.object(e)){var i=new o(e,t,n,r);for(var a in t.dependencies)if(void 0!==e[a]){var s=t.dependencies[a],c=r.makeChild(s,a);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach((function(t){void 0===e[t]&&i.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var l=this.validateSchema(e,s,n,c);i.instance!==l.instance&&(i.instance=l.instance),l&&l.errors.length&&(i.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),i.importErrors(l))}}return i}},s.enum=function validateEnum(e,t,n,a){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new i("enum expects an array",t);var s=new o(e,t,n,a);return t.enum.some(r.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function validateEnum(e,t,n,i){if(void 0===e)return null;var a=new o(e,t,n,i);return r.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a},s.not=s.disallow=function validateNot(e,t,n,r){var i=this;if(void 0===e)return null;var a=new o(e,t,n,r),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach((function(o){if(i.testType(e,t,n,r,o)){var s=o&&(o.$id||o.id)||o;a.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),a):null},e.exports=a},177:(e,t,n)=>{"use strict";var r=n(662),o=t.ValidationError=function ValidationError(e,t,n,r,o,i){if(Array.isArray(r)?(this.path=r,this.property=r.reduce((function(e,t){return e+l(t)}),"instance")):void 0!==r&&(this.property=r),e&&(this.message=e),n){var a=n.$id||n.id;this.schema=a||n}void 0!==t&&(this.instance=t),this.name=o,this.argument=i,this.stack=this.toString()};o.prototype.toString=function toString(){return this.property+" "+this.message};var i=t.ValidatorResult=function ValidatorResult(e,t,n,r){this.instance=e,this.schema=t,this.options=n,this.path=r.path,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function stringizer(e,t){return t+": "+e.toString()+"\n"}function ValidatorResultError(e){Error.captureStackTrace&&Error.captureStackTrace(this,ValidatorResultError),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}i.prototype.addError=function addError(e){var t;if("string"==typeof e)t=new o(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new o(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new ValidatorResultError(this);if(this.throwError)throw t;return t},i.prototype.importErrors=function importErrors(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},i.prototype.toString=function toString(e){return this.errors.map(stringizer).join("")},Object.defineProperty(i.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=ValidatorResultError,ValidatorResultError.prototype=new Error,ValidatorResultError.prototype.constructor=ValidatorResultError,ValidatorResultError.prototype.name="Validation Error";var a=t.SchemaError=function SchemaError(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,SchemaError)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var s=t.SchemaContext=function SchemaContext(e,t,n,r,o){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+l(t)}),"instance")):this.propertyPath=n,this.base=r,this.schemas=o};s.prototype.resolve=function resolve(e){return r.resolve(this.base,e)},s.prototype.makeChild=function makeChild(e,t){var n=void 0===t?this.path:this.path.concat([t]),o=e.$id||e.id,i=r.resolve(this.base,o||""),a=new s(e,this.options,n,i,Object.create(this.schemas));return o&&!a.schemas[i]&&(a.schemas[i]=e),a};var c=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};c.regexp=c.regex,c.pattern=c.regex,c.ipv4=c["ip-address"],t.isFormat=function isFormat(e,t,n){if("string"==typeof e&&void 0!==c[t]){if(c[t]instanceof RegExp)return c[t].test(e);if("function"==typeof c[t])return c[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var l=t.makeSuffix=function makeSuffix(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function deepMerger(e,t,n,r){"object"==typeof n?t[r]=deepMerge(e[r],n):-1===e.indexOf(n)&&t.push(n)}function copyist(e,t,n){t[n]=e[n]}function copyistWithDeepMerge(e,t,n,r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=deepMerge(e[r],t[r]):n[r]=t[r]}function deepMerge(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(deepMerger.bind(null,e,r))):(e&&"object"==typeof e&&Object.keys(e).forEach(copyist.bind(null,e,r)),Object.keys(t).forEach(copyistWithDeepMerge.bind(null,e,t,r))),r}function pathEncoder(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function deepCompareStrict(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e))return!!Array.isArray(t)&&e.length===t.length&&e.every((function(n,r){return deepCompareStrict(e[r],t[r])}));if("object"==typeof e){if(!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return deepCompareStrict(e[n],t[n])}))}return e===t},e.exports.deepMerge=deepMerge,t.objectGetPath=function objectGetPath(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var o=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(o in e))return;e=e[o]}return e},t.encodePath=function encodePointer(e){return e.map(pathEncoder).join("")},t.getDecimalPlaces=function getDecimalPlaces(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t},t.isSchema=function isSchema(e){return"object"==typeof e&&e||"boolean"==typeof e}},660:(e,t,n)=>{"use strict";e.exports.Validator=n(58);n(177).ValidatorResult,n(177).ValidatorResultError,n(177).ValidationError,n(177).SchemaError,n(287),n(287).R},287:(e,t,n)=>{"use strict";var r=n(662),o=n(177);function SchemaScanResult(e,t){this.id=e,this.ref=t}e.exports.R=function scan(e,t){function scanSchema(e,t){if(t&&"object"==typeof t)if(t.$ref){var a=r.resolve(e,t.$ref);i[a]=i[a]?i[a]+1:0}else{var s=t.$id||t.id,c=s?r.resolve(e,s):e;if(c){if(c.indexOf("#")<0&&(c+="#"),n[c]){if(!o.deepCompareStrict(n[c],t))throw new Error("Schema <"+c+"> already exists with different definition");return n[c]}n[c]=t,"#"==c[c.length-1]&&(n[c.substring(0,c.length-1)]=t)}scanArray(c+"/items",Array.isArray(t.items)?t.items:[t.items]),scanArray(c+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),scanSchema(c+"/additionalItems",t.additionalItems),scanObject(c+"/properties",t.properties),scanSchema(c+"/additionalProperties",t.additionalProperties),scanObject(c+"/definitions",t.definitions),scanObject(c+"/patternProperties",t.patternProperties),scanObject(c+"/dependencies",t.dependencies),scanArray(c+"/disallow",t.disallow),scanArray(c+"/allOf",t.allOf),scanArray(c+"/anyOf",t.anyOf),scanArray(c+"/oneOf",t.oneOf),scanSchema(c+"/not",t.not)}}function scanArray(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)scanSchema(e+"/"+n,t[n])}function scanObject(e,t){if(t&&"object"==typeof t)for(var n in t)scanSchema(e+"/"+n,t[n])}var n={},i={};return scanSchema(e,t),new SchemaScanResult(n,i)}},58:(e,t,n)=>{"use strict";var r=n(662),o=n(481),i=n(177),a=n(287).R,s=i.ValidatorResult,c=i.ValidatorResultError,l=i.SchemaError,u=i.SchemaContext,d=function Validator(){this.customFormats=Object.create(Validator.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(h),this.attributes=Object.create(o.validators)};function shouldResolve(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function addSchema(e,t){var n=this;if(!e)return null;var r=a(t||"/",e),o=t||e.$id||e.id;for(var i in r.id)this.schemas[i]=r.id[i];for(var i in r.ref)this.unresolvedRefs.push(i);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[o]},d.prototype.addSubSchemaArray=function addSubSchemaArray(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function addSubSchemaArray(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function setSchemas(e){this.schemas=e},d.prototype.getSchema=function getSchema(e){return this.schemas[e]},d.prototype.validate=function validate(e,t,n,o){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var i,d=t.$id||t.id,h=r.resolve(n.base||"/",d||"");if(!o){(o=new u(t,n,[],h,Object.create(this.schemas))).schemas[h]||(o.schemas[h]=t);var p=a(h,t);for(var f in p.id){var m=p.id[f];o.schemas[f]=m}}if(n.required&&void 0===e)return(i=new s(e,t,n,o)).addError("is required, but is undefined"),i;if(!(i=this.validateSchema(e,t,n,o)))throw new Error("Result undefined");if(n.throwAll&&i.errors.length)throw new c(i);return i},d.prototype.validateSchema=function validateSchema(e,t,n,r){var a=new s(e,t,n,r);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var c={schema:t,ctx:r};t.extends.forEach(this.schemaTraverser.bind(this,c)),t=c.schema,c.schema=null,c.ctx=null,c=null}else t=i.deepMerge(t,this.superResolve(t.extends,r));var d=shouldResolve(t);if(d){var h=this.resolve(t,d,r),p=new u(h.subschema,n,r.path,h.switchSchema,r.schemas);return this.validateSchema(e,h.subschema,n,p)}var f=n&&n.skipAttributes||[];for(var m in t)if(!o.ignoreProperties[m]&&f.indexOf(m)<0){var g=null,b=this.attributes[m];if(b)g=b.call(this,e,t,n,r);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+m,t);g&&a.importErrors(g)}if("function"==typeof n.rewrite){var y=n.rewrite.call(this,e,t,n,r);a.instance=y}return a},d.prototype.schemaTraverser=function schemaTraverser(e,t){e.schema=i.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function superResolve(e,t){var n=shouldResolve(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function resolve(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var o=r.parse(t),a=o&&o.hash,s=a&&a.length&&t.substr(0,t.length-a.length);if(!s||!n.schemas[s])throw new l("no such schema <"+t+">",e);var c=i.objectGetPath(n.schemas[s],a.substr(1));if(void 0===c)throw new l("no such schema "+a+" located in <"+s+">",e);return{subschema:c,switchSchema:t}},d.prototype.testType=function validateType(e,t,n,r,o){if(void 0!==o){if(null===o)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[o])return this.types[o].call(this,e);if(o&&"object"==typeof o){var i=this.validateSchema(e,o,n,r);return void 0===i||!(i&&i.errors.length)}return!0}};var h=d.prototype.types={};h.string=function testString(e){return"string"==typeof e},h.number=function testNumber(e){return"number"==typeof e&&isFinite(e)},h.integer=function testInteger(e){return"number"==typeof e&&e%1==0},h.boolean=function testBoolean(e){return"boolean"==typeof e},h.array=function testArray(e){return Array.isArray(e)},h.null=function testNull(e){return null===e},h.date=function testDate(e){return e instanceof Date},h.any=function testAny(e){return!0},h.object=function testObject(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},327:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function bytesToUuid(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function whatwgRNG(){return t(n),n}}else{var r=new Array(16);e.exports=function mathRNG(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},171:(e,t,n)=>{var r=n(217),o=n(327);e.exports=function v4(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},456:e=>{"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var l,u,d,h,p=e[c].replace(i,"%20"),f=p.indexOf(n);f>=0?(l=p.substr(0,f),u=p.substr(f+1)):(l=p,u=""),d=decodeURIComponent(l),h=decodeURIComponent(u),hasOwnProperty(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},514:e=>{"use strict";var stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var o=encodeURIComponent(stringifyPrimitive(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(stringifyPrimitive(e))})).join(t):o+encodeURIComponent(stringifyPrimitive(e[r]))})).join(t):r?encodeURIComponent(stringifyPrimitive(r))+n+encodeURIComponent(stringifyPrimitive(e)):""}},526:(e,t,n)=>{"use strict";t.decode=t.parse=n(456),t.encode=t.stringify=n(514)},333:function(e,t,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var a,s=2147483647,c=36,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function error(e){throw RangeError(h[e])}function map(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function mapDomain(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+map((e=e.replace(d,".")).split("."),t).join(".")}function ucs2decode(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function ucs2encode(e){return map(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)})).join("")}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=c)e=p(e/35);return p(r+36*e/(e+38))}function decode(e){var t,n,r,o,i,a,l,u,d,h,f,m=[],g=e.length,b=0,y=128,Q=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&error("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=b,a=1,l=c;o>=g&&error("invalid-input"),((u=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:c)>=c||u>p((s-b)/a))&&error("overflow"),b+=u*a,!(u<(d=l<=Q?1:l>=Q+26?26:l-Q));l+=c)a>p(s/(h=c-d))&&error("overflow"),a*=h;Q=adapt(b-i,t=m.length+1,0==i),p(b/t)>s-y&&error("overflow"),y+=p(b/t),b%=t,m.splice(b++,0,y)}return ucs2encode(m)}function encode(e){var t,n,r,o,i,a,l,u,d,h,m,g,b,y,Q,F=[];for(g=(e=ucs2decode(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(m=e[a])<128&&F.push(f(m));for(r=o=F.length,o&&F.push("-");r<g;){for(l=s,a=0;a<g;++a)(m=e[a])>=t&&m<l&&(l=m);for(l-t>p((s-n)/(b=r+1))&&error("overflow"),n+=(l-t)*b,t=l,a=0;a<g;++a)if((m=e[a])<t&&++n>s&&error("overflow"),m==t){for(u=n,d=c;!(u<(h=d<=i?1:d>=i+26?26:d-i));d+=c)Q=u-h,y=c-h,F.push(f(digitToBasic(h+Q%y,0))),u=p(Q/y);F.push(f(digitToBasic(u,0))),i=adapt(n,b,r==o),n=0,++r}++n,++t}return F.join("")}a={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII:function toASCII(e){return mapDomain(e,(function(e){return u.test(e)?"xn--"+encode(e):e}))},toUnicode:function toUnicode(e){return mapDomain(e,(function(e){return l.test(e)?decode(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},662:(e,t,n)=>{"use strict";var r=n(333),o=n(597);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=urlParse,t.resolve=function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)},t.resolveObject=function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t},t.format=function urlFormat(e){return o.isString(e)&&(e=urlParse(e)),e instanceof Url?e.format():Url.prototype.format.call(e)},t.Url=Url;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),u=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(526);function urlParse(e,t,n){if(e&&o.isObject(e)&&e instanceof Url)return e;var r=new Url;return r.parse(e,t,n),r}Url.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),c=-1!==a&&a<e.indexOf("#")?"?":"#",y=e.split(c);y[0]=y[0].replace(/\\/g,"/");var Q=e=y.join(c);if(Q=Q.trim(),!n&&1===e.split("#").length){var F=s.exec(Q);if(F)return this.path=Q,this.href=Q,this.pathname=F[1],F[2]?(this.search=F[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var v=i.exec(Q);if(v){var B=(v=v[0]).toLowerCase();this.protocol=B,Q=Q.substr(v.length)}if(n||v||Q.match(/^\/\/[^@\/]+@[^@\/]+/)){var U="//"===Q.substr(0,2);!U||v&&m[v]||(Q=Q.substr(2),this.slashes=!0)}if(!m[v]&&(U||v&&!g[v])){for(var x,I,E=-1,R=0;R<d.length;R++)-1!==(C=Q.indexOf(d[R]))&&(-1===E||C<E)&&(E=C);for(-1!==(I=-1===E?Q.lastIndexOf("@"):Q.lastIndexOf("@",E))&&(x=Q.slice(0,I),Q=Q.slice(I+1),this.auth=decodeURIComponent(x)),E=-1,R=0;R<u.length;R++){var C;-1!==(C=Q.indexOf(u[R]))&&(-1===E||C<E)&&(E=C)}-1===E&&(E=Q.length),this.host=Q.slice(0,E),Q=Q.slice(E),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var L=this.hostname.split(/\./),V=(R=0,L.length);R<V;R++){var w=L[R];if(w&&!w.match(h)){for(var G="",N=0,Z=w.length;N<Z;N++)w.charCodeAt(N)>127?G+="x":G+=w[N];if(!G.match(h)){var A=L.slice(0,R),k=L.slice(R+1),T=w.match(p);T&&(A.push(T[1]),k.unshift(T[2])),k.length&&(Q="/"+k.join(".")+Q),this.hostname=A.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=r.toASCII(this.hostname));var W=this.port?":"+this.port:"",_=this.hostname||"";this.host=_+W,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Q[0]&&(Q="/"+Q))}if(!f[B])for(R=0,V=l.length;R<V;R++){var X=l[R];if(-1!==Q.indexOf(X)){var O=encodeURIComponent(X);O===X&&(O=escape(X)),Q=Q.split(X).join(O)}}var D=Q.indexOf("#");-1!==D&&(this.hash=Q.substr(D),Q=Q.slice(0,D));var J=Q.indexOf("?");if(-1!==J?(this.search=Q.substr(J),this.query=Q.substr(J+1),t&&(this.query=b.parse(this.query)),Q=Q.slice(0,J)):t&&(this.search="",this.query={}),Q&&(this.pathname=Q),g[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){W=this.pathname||"";var P=this.search||"";this.path=W+P}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(o.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var n=new Url,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var h=u[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",b=n.search||"";n.path=f+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),Q=e.host||e.pathname&&"/"===e.pathname.charAt(0),F=Q||y||n.host&&e.pathname,v=F,B=n.pathname&&n.pathname.split("/")||[],U=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(U&&(n.hostname="",n.port=null,n.host&&(""===B[0]?B[0]=n.host:B.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),F=F&&(""===p[0]||""===B[0])),Q)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,B=p;else if(p.length)B||(B=[]),B.pop(),B=B.concat(p),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return U&&(n.hostname=n.host=B.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!B.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=B.slice(-1)[0],I=(n.host||e.host||B.length>1)&&("."===x||".."===x)||""===x,E=0,R=B.length;R>=0;R--)"."===(x=B[R])?B.splice(R,1):".."===x?(B.splice(R,1),E++):E&&(B.splice(R,1),E--);if(!F&&!v)for(;E--;E)B.unshift("..");!F||""===B[0]||B[0]&&"/"===B[0].charAt(0)||B.unshift(""),I&&"/"!==B.join("/").substr(-1)&&B.push("");var C,S=""===B[0]||B[0]&&"/"===B[0].charAt(0);return U&&(n.hostname=n.host=S?"":B.length?B.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),(F=F||n.host&&B.length)&&!S&&B.unshift(""),B.length?n.pathname=B.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Url.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},597:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},843:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},__webpack_module_cache__={};function __nested_webpack_require_138382__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_138382__),n.loaded=!0,n.exports}__nested_webpack_require_138382__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_138382__.d(t,{a:t}),t},__nested_webpack_require_138382__.d=(e,t)=>{for(var n in t)__nested_webpack_require_138382__.o(t,n)&&!__nested_webpack_require_138382__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_138382__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_138382__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_138382__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__nested_webpack_require_138382__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}__nested_webpack_require_138382__.r(__webpack_exports__),__nested_webpack_require_138382__.d(__webpack_exports__,{COOKIE_STORE_SERVICE:()=>fe,CookieStore:()=>N,NAME_SERVICE:()=>ge,NameGenerationService:()=>r,PHX_AUTH_SERVICE:()=>me,PROPERTIES_SERVICE:()=>he,PhoenixAuthService:()=>L,Properties:()=>e,ROOM_SERVICE:()=>be,RoomService:()=>G,SCHEMA:()=>ue,STORE_SERVICE:()=>pe,Store:()=>de});var e=function(){function Properties(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Properties)}return function _createClass(e,t,n){t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(Properties,[{key:"getType",value:function getType(){return Properties.name}},{key:"getGlobalProperties",value:function getGlobalProperties(){return"undefined"!=typeof window&&window.APP_PROPS||{}}},{key:"get",value:function get(e){return this.getGlobalProperties()[e]}}]),Properties}(),t=["able","absolute","acceptable","acclaimed","accomplished","accurate","aching","acrobatic","adorable","adventurous","basic","belated","beloved","calm","candid","capital","carefree","caring","cautious","celebrated","charming","daring","darling","dearest","each","eager","early","earnest","easy","easygoing","ecstatic","edible","fabulous","fair","faithful","familiar","famous","fancy","fantastic","far","generous","gentle","genuine","giant","handmade","handsome","handy","happy","icy","ideal","identical","keen","lasting","lavish","magnificent","majestic","mammoth","marvelous","natural","obedient","palatable","parched","passionate","pastel","peaceful","perfect","perfumed","quaint","qualified","radiant","rapid","rare","safe","sandy","satisfied","scaly","scarce","scared","scary","scented","scientific","secret","sentimental","talkative","tangible","tart","tasty","tattered","teeming","ultimate","uncommon","unconscious","understated","warm","active","adept","admirable","admired","adorable","adored","advanced","affectionate","beneficial","best","better","big","cheerful","cheery","chief","chilly","classic","clean","clear","clever","decent","decisive","deep","defiant","definitive","delectable","delicious","elaborate","elastic","elated","elegant","elementary","elliptical","fast","favorable","favorite","fearless","gifted","glamorous","gleaming","glittering","harmonious","imaginative","immense","jealous","kind","leafy","legal","mature","mean","nautical","neat","necessary","needy","oddball","offbeat","periodic","perky","personal","pertinent","petty","quarterly","ready","real","realistic","reasonable","regal","serene","shabby","sharp","shiny","showy","shy","silky","tempting","tense","terrific","testy","thankful","uniform","unique","vast","weary","wee","welcome","agile","alarmed","alert","alive","bleak","blissful","blushing","coarse","colorful","colossal","comfortable","compassionate","complete","delightful","dense","dependable","dependent","descriptive","detailed","determined","devoted","different","eminent","emotional","enchanted","enchanting","energetic","enormous","fine","finished","firm","firsthand","fixed","flashy","flawless","glorious","glossy","golden","good","gorgeous","graceful","healthy","heartfelt","hearty","helpful","impartial","impressive","jolly","jovial","lighthearted","likable","lined","mellow","melodic","memorable","mild","new","opulent","playful","pleasant","pleasing","plump","plush","polished","polite","reliable","relieved","remarkable","remote","respectful","responsible","simple","simplistic","sizzling","sleepy","slight","slim","smart","smooth","snappy","snoopy","thirsty","this","thorough","those","thoughtful","united","vibrant","vicious","wellmade","whimsical","whirlwind","zesty","amazing","ambitious","ample","amused","amusing","ancient","angelic","antique","bold","bossy","both","bouncy","bountiful","complex","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","diligent","dimwitted","direct","discrete","envious","essential","ethical","euphoric","flippant","fluffy","flustered","focused","fond","gracious","grand","grandiose","granular","grateful","grave","great","hidden","high","hilarious","homely","incomparable","incredible","infamous","joyful","lively","loathsome","lonely","long","mindless","miniature","minor","misty","next","nice","nifty","nimble","orderly","organic","ornate","popular","posh","positive","potable","powerful","powerless","precious","present","prestigious","quick","rewarding","rich","right","sociable","soft","solid","some","sophisticated","soulful","sparkling","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spry","thrifty","tidy","tight","timely","tinted","unruly","untimely","violet","wicked","wide","wild","willing","winding","windy","zigzag","apprehensive","appropriate","artistic","assured","astonishing","bright","brilliant","bronze","coordinated","courageous","courteous","crafty","crazy","creamy","creative","crisp","distant","distinct","downright","evergreen","everlasting","every","evil","excellent","excitable","exemplary","exhausted","forthright","fortunate","fragrant","frank","free","frequent","fresh","friendly","frightened","frigid","gripping","grounded","honest","honorable","honored","hopeful","hospitable","hot","huge","infatuated","infinite","informal","insistent","instructive","juicy","jumbo","knowing","knowledgeable","longterm","loud","lovable","loving","modern","modest","monumental","normal","notable","outgoing","precious","pretty","prickly","primary","pristine","private","prize","productive","profitable","quiet","quintessential","roasted","robust","square","squiggly","stable","staid","starry","steel","stimulating","striking","striped","strong","studious","stunning","tough","trained","treasured","tremendous","triangular","tricky","unused","unusual","upbeat","virtual","witty","wonderful","wooden","worldly","youthful","attached","attentive","attractive","austere","authentic","automatic","aware","awesome","bubbly","bustling","busy","buttery","cuddly","cultured","curly","curvy","cute","cylindrical","downright","dramatic","excited","exciting","exotic","experienced","expert","frosty","fruitful","full","fumbling","funny","fussy","growing","grown","gummy","humble","humongous","hungry","intelligent","interesting","known","kooky","loyal","lucky","luminous","lustrous","luxurious","multicolored","mysterious","noteworthy","numb","nutritious","outstanding","overjoyed","proper","proud","prudent","punctual","puny","pure","puzzled","puzzling","quirky","stupendous","sturdy","stylish","subdued","subtle","sunny","super","superb","supportive","surprised","sweet","swift","sympathetic","trivial","trusting","trustworthy","trusty","truthful","twin","usable","used","useful","utilized","vital","vivid","worried","worthwhile","worthy","writhing","wry","yummy","chocolate","crimson","cyan","fuchsia","gold","honeydew","lime","linen","magenta","olive","peru","salmon","seashell","sienna","snow","thistle","tomato","transparent","turquoise","violet"],n=["space","land","world","universe","plane","room","nation","plaza","gathering","meetup","get together","conclave","party","domain","dominion","realm","square","commons","park","cosmos","sphere","terrain","spot","zone","area","tract","turf","place","territory","volume","camp","picnic","outing","vacation","adventure","exploration","outing","walkabout","safari","venture","roundtable","barbecue","celebration","festivity","gala","shindig","social","convention","assembly","congregation","rendezvous","huddle","meet","soiree"];function name_generation_generateHubName(){var e=function randItem(e){var t=e[Math.floor(Math.random()*e.length)];return t.charAt(0).toUpperCase()+t.slice(1)};return"".concat(e(t)," ").concat(e(t)," ").concat(e(n))}function NameGenerationService_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function NameGenerationService(){!function NameGenerationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NameGenerationService)}return function NameGenerationService_createClass(e,t,n){t&&NameGenerationService_defineProperties(e.prototype,t),n&&NameGenerationService_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(NameGenerationService,[{key:"getType",value:function getType(){return NameGenerationService.name}},{key:"generateHubName",value:function generateHubName(){return name_generation_generateHubName()}}]),NameGenerationService}();function AdminRole_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function AdminRole(){!function AdminRole_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AdminRole),function _defineProperty(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"admin",void 0)}return function AdminRole_createClass(e,t,n){t&&AdminRole_defineProperties(e.prototype,t),n&&AdminRole_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(AdminRole,[{key:"setIsAdmin",value:function setIsAdmin(e){this.admin=e}},{key:"isAdmin",value:function isAdmin(){return this.admin}}]),AdminRole}();const i="undefined"!=typeof self?self:null,a="undefined"!=typeof window?window:null,s=i||a||void 0,c="closed",l="errored",u="joined",d="joining",h="leaving",p="phx_close",f="phx_error",m="phx_join",g="phx_reply",b="phx_leave",y=[p,f,m,g,b],Q="websocket";let closure=e=>"function"==typeof e?e:function(){return e};class Push{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,ref:n}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}class Channel{constructor(e,t,n){this.state=c,this.topic=e,this.params=closure(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new Push(this,m,this.params,this.timeout),this.pushBuffer=[],this.rejoinTimer=new Timer((()=>{this.socket.isConnected()&&this.rejoin()}),this.socket.rejoinAfterMs),this.socket.onError((()=>this.rejoinTimer.reset())),this.socket.onOpen((()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",(()=>{this.state=u,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.joinPush.receive("error",(()=>{this.state=l,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=c,this.socket.remove(this)})),this.onError((e=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,e),this.isJoining()&&this.joinPush.reset(),this.state=l,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()})),this.joinPush.receive("timeout",(()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new Push(this,b,closure({}),this.timeout).send(),this.state=l,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()})),this.on(g,((e,t)=>{this.trigger(this.replyEventName(t),e)}))}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(p,e)}onError(e){return this.on(f,(t=>e(t)))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter((n=>!(n.event===e&&(void 0===t||t===n.ref))))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new Push(this,e,(function(){return t}),n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}pushUnreliable(e,t){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`;this.socket.push({topic:this.topic,event:e,payload:t,ref:null,join_ref:this.joinRef()},!1)}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=h;let onClose=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(p,"leave")},t=new Push(this,b,closure({}),e);return t.receive("ok",(()=>onClose())).receive("timeout",(()=>onClose())),t.send(),this.canPush()||t.trigger("ok",{}),t}onMessage(e,t,n){return t}isLifecycleEvent(e){return y.indexOf(e)>=0}isMember(e,t,n,r){return!(this.topic!==e||r&&r!==this.joinRef()&&this.isLifecycleEvent(t)&&(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),1))}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=d,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,t,n,r){let o=this.onMessage(e,t,n,r);if(t&&!o)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");for(let t=0;t<this.bindings.length;t++){const i=this.bindings[t];i.event===e&&i.callback(o,n,r||this.joinRef())}}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===c}isErrored(){return this.state===l}isJoined(){return this.state===u}isJoining(){return this.state===d}isLeaving(){return this.state===h}}let F={encode(e,t){let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))},decode(e,t){let[n,r,o,i,a]=JSON.parse(e);return t({join_ref:n,ref:r,topic:o,event:i,payload:a})}};class Socket{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||1e4,this.transport=t.transport||s.WebSocket||LongPoll,this.defaultEncoder=F.encode,this.defaultDecoder=F.decode,this.closeWasClean=!1,this.unloaded=!1,this.binaryType=t.binaryType||"arraybuffer",this.transport!==LongPoll?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),a&&a.addEventListener&&a.addEventListener("beforeunload",(e=>{this.conn&&(this.unloaded=!0,this.abnormalClose("unloaded"))})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=e=>t.rejoinAfterMs?t.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4,this.reconnectAfterMs=e=>this.unloaded?100:t.reconnectAfterMs?t.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=closure(t.params||{}),this.endPoint=`${e}/${Q}`,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new Timer((()=>{this.teardown((()=>this.connect()))}),this.reconnectAfterMs)}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Ajax.appendParams(Ajax.appendParams(this.endPoint,this.params()),{vsn:"2.0.0"});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=closure(e)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e))}log(e,t,n){this.logger(e,t,n)}hasLogger(){return null!==this.logger}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach((e=>e()))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs))}teardown(e,t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n||""):this.conn.close(),this.conn=null),e&&e()}onConnClose(e){this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}onConnError(e){this.hasLogger()&&this.log("transport",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}triggerChanError(){this.channels.forEach((e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(f)}))}connectionState(){switch(this.conn&&this.conn.readyState){case 0:return"connecting";case 1:return"open";case 2:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.channels=this.channels.filter((t=>t.joinRef()!==e.joinRef()))}channel(e,t={}){let n=new Channel(e,t,this);return this.channels.push(n),n}push(e,t=!0){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:o,join_ref:i}=e;this.log("push",`${t} ${n} (${i}, ${o})`,r)}this.isConnected()?this.encode(e,(e=>this.conn.send(e))):t&&this.sendBuffer.push((()=>this.encode(e,(e=>this.conn.send(e)))))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void this.abnormalClose("heartbeat timeout");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}abnormalClose(e){this.closeWasClean=!1,this.conn.close(1e3,e)}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:o,join_ref:i}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.hasLogger()&&this.log("receive",`${r.status||""} ${t} ${n} ${o&&"("+o+")"||""}`,r);for(let e=0;e<this.channels.length;e++){const a=this.channels[e];a.isMember(t,n,r,i)&&a.trigger(n,r,o,i)}for(let t=0;t<this.stateChangeCallbacks.message.length;t++)this.stateChangeCallbacks.message[t](e)}))}}class LongPoll{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=0,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+Q),"$1/longpoll")}endpointURL(){return Ajax.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(){this.close(),this.readyState=0}ontimeout(){this.onerror("timeout"),this.closeAndRetry()}poll(){1!==this.readyState&&0!==this.readyState||Ajax.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),(e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else var t=0;switch(t){case 200:r.forEach((e=>this.onmessage({data:e}))),this.poll();break;case 204:this.poll();break;case 410:this.readyState=1,this.onopen(),this.poll();break;case 0:case 500:this.onerror(),this.closeAndRetry();break;default:throw new Error(`unhandled poll status ${t}`)}}))}send(e){Ajax.request("POST",this.endpointURL(),"application/json",e,this.timeout,this.onerror.bind(this,"timeout"),(e=>{e&&200===e.status||(this.onerror(e&&e.status),this.closeAndRetry())}))}close(e,t){this.readyState=3,this.onclose()}}class Ajax{static request(e,t,n,r,o,i,a){if(s.XDomainRequest){let n=new XDomainRequest;this.xdomainRequest(n,e,t,r,o,i,a)}else{let c=s.XMLHttpRequest?new s.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");this.xhrRequest(c,e,t,n,r,o,i,a)}}static xdomainRequest(e,t,n,r,o,i,a){e.timeout=o,e.open(t,n),e.onload=()=>{let t=this.parseJSON(e.responseText);a&&a(t)},i&&(e.ontimeout=i),e.onprogress=()=>{},e.send(r)}static xhrRequest(e,t,n,r,o,i,a,s){e.open(t,n,!0),e.timeout=i,e.setRequestHeader("Content-Type",r),e.onerror=()=>{s&&s(null)},e.onreadystatechange=()=>{if(e.readyState===this.states.complete&&s){let t=this.parseJSON(e.responseText);s(t)}},a&&(e.ontimeout=a),e.send(o)}static parseJSON(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var r in e){if(!e.hasOwnProperty(r))continue;let o=t?`${t}[${r}]`:r,i=e[r];"object"==typeof i?n.push(this.serialize(i,o)):n.push(encodeURIComponent(o)+"="+encodeURIComponent(i))}return n.join("&")}static appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}}Ajax.states={complete:4};class Timer{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}var v=__nested_webpack_require_138382__(834);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=maybeInvokeDelegate(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=tryCatch(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&n.call(u,o)&&(c=u);var d=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(r,o,i,a){var s=tryCatch(e[r],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var r;this._invoke=function(e,n){function callInvokeWithMethodAndArg(){return new t((function(t,r){invoke(e,n,t,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function next(){for(;++r<e.length;)if(n.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(d,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(d),define(d,a,"Generator"),define(d,o,(function(){return this})),define(d,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function config(){return(0,v.getServiceSync)(he).getGlobalProperties()}function hasReticulumServer(){return!!config().RETICULUM_SERVER}function phoenix_utils_isLocalClient(){return hasReticulumServer()&&document.location.host!==config().RETICULUM_SERVER}var B,U=document.createElement("a"),x=null,I=!1;function phoenix_utils_getReticulumFetchUrl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return n||hasReticulumServer()?"https://".concat(n||config().RETICULUM_SERVER).concat(r?":".concat(r):"").concat(e):t?(U.href=e,U.href):e}function getReticulumMeta(){return _getReticulumMeta.apply(this,arguments)}function _getReticulumMeta(){return _getReticulumMeta=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var e,t;return _regeneratorRuntime().wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:if(x){n.next=7;break}if(I||!document.querySelector("meta[name='ret:version']")){n.next=5;break}x={version:document.querySelector("meta[name='ret:version']").getAttribute("value"),pool:document.querySelector("meta[name='ret:pool']").getAttribute("value"),phx_host:document.querySelector("meta[name='ret:phx_host']").getAttribute("value")},n.next=7;break;case 5:return n.next=7,fetch(phoenix_utils_getReticulumFetchUrl("/api/v1/meta")).then(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(e){return _regeneratorRuntime().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:x=t.sent;case 3:case"end":return t.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}());case 7:return e=new URLSearchParams(location.search),(t=e.get("phx_host"))&&(x.phx_host=t),n.abrupt("return",x);case 11:case"end":return n.stop()}}),_callee4)}))),_getReticulumMeta.apply(this,arguments)}function refreshDirectReticulumHostAndPort(){return _refreshDirectReticulumHostAndPort.apply(this,arguments)}function _refreshDirectReticulumHostAndPort(){return _refreshDirectReticulumHostAndPort=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){var e,t,n,r;return _regeneratorRuntime().wrap((function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:return e=new URLSearchParams(location.search),t=e.get("phx_host"),o.next=4,getReticulumMeta();case 4:n=o.sent,t=t||config().RETICULUM_SOCKET_SERVER||n.phx_host,r=e.get("phx_port")||(hasReticulumServer()?new URL("".concat(document.location.protocol,"//").concat(config().RETICULUM_SERVER)).port:"443"),B={host:t,port:r};case 8:case"end":return o.stop()}}),_callee5)}))),_refreshDirectReticulumHostAndPort.apply(this,arguments)}function invalidateReticulumMeta(){return _invalidateReticulumMeta.apply(this,arguments)}function _invalidateReticulumMeta(){return(_invalidateReticulumMeta=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){return _regeneratorRuntime().wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:I=!0,x=null;case 2:case"end":return e.stop()}}),_callee6)})))).apply(this,arguments)}function phoenix_utils_connectToReticulum(){return _connectToReticulum.apply(this,arguments)}function _connectToReticulum(){return _connectToReticulum=_asyncToGenerator(_regeneratorRuntime().mark((function _callee9(){var e,t,n,r,o,i,a,s,c=arguments;return _regeneratorRuntime().wrap((function _callee9$(l){for(;;)switch(l.prev=l.next){case 0:return e=c.length>0&&void 0!==c[0]&&c[0],t=c.length>1&&void 0!==c[1]?c[1]:null,n=c.length>2&&void 0!==c[2]?c[2]:Socket,r=new URLSearchParams(location.search),o=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(){var e,t,n,o;return _regeneratorRuntime().wrap((function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,refreshDirectReticulumHostAndPort();case 2:return t=(e=B).host,n=e.port,o=r.get("phx_protocol")||config().RETICULUM_SOCKET_PROTOCOL||("https:"===document.location.protocol?"wss:":"ws:"),i.abrupt("return","".concat(o,"//").concat(t).concat(n?":".concat(n):""));case 5:case"end":return i.stop()}}),_callee7)})));return function getNewSocketUrl(){return e.apply(this,arguments)}}(),l.next=7,o();case 7:return i=l.sent,console.log("Phoenix Socket URL: ".concat(i)),a={},e&&(a.logger=function(e,t,n){console.log("".concat(e,": ").concat(t),n)}),t&&(a.params=t),(s=new n("".concat(i,"/socket"),a)).connect(),s.onError(_asyncToGenerator(_regeneratorRuntime().mark((function _callee8(){var e,t,n;return _regeneratorRuntime().wrap((function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:return invalidateReticulumMeta(),e=new URL(s.endPoint).pathname,r.next=4,o();case 4:t=r.sent,n="".concat(t).concat(e),console.log("Socket error, changed endpoint to ".concat(n)),s.endPoint=n;case 8:case"end":return r.stop()}}),_callee8)})))),l.abrupt("return",s);case 16:case"end":return l.stop()}}),_callee9)}))),_connectToReticulum.apply(this,arguments)}function phoenix_utils_fetchReticulumAuthenticated(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=(0,v.getServiceSync)(pe).state.credentials.token,o=phoenix_utils_getReticulumFetchUrl(e),i={headers:{"content-type":"application/json"},method:t};return r&&(i.headers.authorization="bearer ".concat(r)),n&&(i.body=JSON.stringify(n)),fetch(o,i).then(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(e){var t;return _regeneratorRuntime().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e.ok){n.next=2;break}throw new Error("API error");case 2:return n.next=4,e.text();case 4:return t=n.sent,n.prev=5,n.abrupt("return",JSON.parse(t));case 9:return n.prev=9,n.t0=n.catch(5),n.abrupt("return",t);case 12:case"end":return n.stop()}}),_callee,null,[[5,9]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return{entries:[]}}))}function phoenix_utils_createAndRedirectToNewHub(e,t,n){return _createAndRedirectToNewHub.apply(this,arguments)}function _createAndRedirectToNewHub(){return(_createAndRedirectToNewHub=_asyncToGenerator(_regeneratorRuntime().mark((function _callee10(e,t,n){var r,o,i,a,s,c,l,u,d;return _regeneratorRuntime().wrap((function _callee10$(h){for(;;)switch(h.prev=h.next){case 0:return r=phoenix_utils_getReticulumFetchUrl("/api/v1/hubs"),o={hub:{name:e||name_generation_generateHubName()}},t&&(o.hub.scene_id=t),i={"content-type":"application/json"},h.next=6,(0,v.getService)(pe);case 6:return(a=h.sent).state&&a.state.credentials.token&&(i.authorization="bearer ".concat(a.state.credentials.token)),h.next=10,fetch(r,{body:JSON.stringify(o),headers:i,method:"POST"}).then((function(e){return e.json()}));case 10:if("invalid_token"!==(s=h.sent).error){h.next=18;break}return console.log("created anonymously"),a.update({credentials:{token:null,email:null}}),delete i.authorization,h.next=17,fetch(r,{body:JSON.stringify(o),headers:i,method:"POST"}).then((function(e){return e.json()}));case 17:s=h.sent;case 18:l=(c=s).url,(u=c.creator_assignment_token)&&(a.update({creatorAssignmentTokens:[{hubId:c.hub_id,creatorAssignmentToken:u}]}),(d=c.embed_token)&&a.update({embedTokens:[{hubId:c.hub_id,embedToken:d}]})),phoenix_utils_isLocalClient()&&(l="/hub.html?hub_id=".concat(c.hub_id)),n?document.location.replace(l):document.location=l;case 24:case"end":return h.stop()}}),_callee10)})))).apply(this,arguments)}var E=__nested_webpack_require_138382__(171),R=__nested_webpack_require_138382__.n(E);function auth_channel_typeof(e){return auth_channel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},auth_channel_typeof(e)}function auth_channel_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */auth_channel_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=maybeInvokeDelegate(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=tryCatch(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&n.call(u,o)&&(c=u);var d=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(r,o,i,a){var s=tryCatch(e[r],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==auth_channel_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var r;this._invoke=function(e,n){function callInvokeWithMethodAndArg(){return new t((function(t,r){invoke(e,n,t,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function next(){for(;++r<e.length;)if(n.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(d,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(d),define(d,a,"Generator"),define(d,o,(function(){return this})),define(d,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function auth_channel_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function auth_channel_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){auth_channel_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){auth_channel_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function auth_channel_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function auth_channel_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(){function AuthChannel(e){var t=this;!function auth_channel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AuthChannel),auth_channel_defineProperty(this,"store",void 0),auth_channel_defineProperty(this,"socket",void 0),auth_channel_defineProperty(this,"_signedIn",void 0),auth_channel_defineProperty(this,"setSocket",(function(e){t.socket=e})),auth_channel_defineProperty(this,"signOut",function(){var e=auth_channel_asyncToGenerator(auth_channel_regeneratorRuntime().mark((function _callee(e){return auth_channel_regeneratorRuntime().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,e.signOut();case 3:return t.store.update({credentials:{token:null,email:null}}),n.next=6,t.store.resetToRandomDefaultAvatar();case 6:t._signedIn=!1;case 7:case"end":return n.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}()),this.store=e,this.socket=null,this._signedIn=!!this.store.state.credentials.token}var e,t;return function auth_channel_createClass(e,t,n){t&&auth_channel_defineProperties(e.prototype,t),n&&auth_channel_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(AuthChannel,[{key:"email",get:function get(){return this.store.state.credentials.email}},{key:"signedIn",get:function get(){return this._signedIn}},{key:"verifyAuthentication",value:function verifyAuthentication(e,t,n){var r=this,o=this.socket.channel(e);return new Promise((function(e,i){o.onError((function(){o.leave(),i()})),o.join().receive("ok",(function(){o.on("auth_credentials",function(){var t=auth_channel_asyncToGenerator(auth_channel_regeneratorRuntime().mark((function _callee2(t){var n,o;return auth_channel_regeneratorRuntime().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return n=t.credentials,o=t.payload,i.next=3,r.handleAuthCredentials(o.email,n,null);case 3:e(!0);case 4:case"end":return i.stop()}}),_callee2)})));return function(e){return t.apply(this,arguments)}}()),o.push("auth_verified",{token:t,payload:n})})).receive("error",i)}))}},{key:"startAuthentication",value:(t=auth_channel_asyncToGenerator(auth_channel_regeneratorRuntime().mark((function _callee4(e,t){var n,r,o=this;return auth_channel_regeneratorRuntime().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return n=this.socket.channel("auth:".concat(R()())),i.next=3,new Promise((function(e,t){return n.join().receive("ok",e).receive("error",t)}));case 3:return r=new Promise((function(r){return n.on("auth_credentials",function(){var n=auth_channel_asyncToGenerator(auth_channel_regeneratorRuntime().mark((function _callee3(n){var i;return auth_channel_regeneratorRuntime().wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return i=n.credentials,a.next=3,o.handleAuthCredentials(e,i,t);case 3:r(!0);case 4:case"end":return a.stop()}}),_callee3)})));return function(e){return n.apply(this,arguments)}}())})),n.push("auth_request",{email:e,origin:"hubs"}),i.abrupt("return",{authComplete:r});case 6:case"end":return i.stop()}}),_callee4,this)}))),function startAuthentication(e,n){return t.apply(this,arguments)})},{key:"handleAuthCredentials",value:(e=auth_channel_asyncToGenerator(auth_channel_regeneratorRuntime().mark((function _callee5(e,t,n){return auth_channel_regeneratorRuntime().wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:if(this.store.update({credentials:{email:e,token:t}}),!n){r.next=4;break}return r.next=4,n.signIn(t);case 4:this._signedIn=!0;case 5:case"end":return r.stop()}}),_callee5,this)}))),function handleAuthCredentials(t,n,r){return e.apply(this,arguments)})}]),AuthChannel}();function MsToNativeLoginBridge_typeof(e){return MsToNativeLoginBridge_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MsToNativeLoginBridge_typeof(e)}function MsToNativeLoginBridge_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */MsToNativeLoginBridge_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=maybeInvokeDelegate(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=tryCatch(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&n.call(u,o)&&(c=u);var d=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(r,o,i,a){var s=tryCatch(e[r],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==MsToNativeLoginBridge_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var r;this._invoke=function(e,n){function callInvokeWithMethodAndArg(){return new t((function(t,r){invoke(e,n,t,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function next(){for(;++r<e.length;)if(n.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(d,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(d),define(d,a,"Generator"),define(d,o,(function(){return this})),define(d,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function MsToNativeLoginBridge_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function MsToNativeLoginBridge_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){MsToNativeLoginBridge_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){MsToNativeLoginBridge_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function MsToNativeLoginBridge_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function MsToNativeLoginBridge(){!function MsToNativeLoginBridge_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MsToNativeLoginBridge)}var e,t,n,r;return function MsToNativeLoginBridge_createClass(e,t,n){t&&MsToNativeLoginBridge_defineProperties(e.prototype,t),n&&MsToNativeLoginBridge_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(MsToNativeLoginBridge,[{key:"isLogged",value:function isLogged(){try{return!!window.APP.store.state.credentials.token}catch(e){return!1}}},{key:"clearProfile",value:function clearProfile(){window.APP.store.update({profile:{phoneNumber:null,displayName:"Teams Guest",email:null,jobTitle:null,companyName:null,microsoftUserprofilePicture:null,microsoftUser:null},activity:{hasChangedName:!1,hasChangedPicture:!1}})}},{key:"logout",value:(r=MsToNativeLoginBridge_asyncToGenerator(MsToNativeLoginBridge_regeneratorRuntime().mark((function _callee(){return MsToNativeLoginBridge_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!window.APP.hubChannel){e.next=4;break}return e.next=3,window.APP.hubChannel.signOut(window.APP.hubChannel);case 3:console.log("Native signOut");case 4:return window.APP.store.update({credentials:{token:null,email:null}}),e.next=7,this.clearProfile();case 7:case"end":return e.stop()}}),_callee,this)}))),function logout(){return r.apply(this,arguments)})},{key:"setProfile",value:(n=MsToNativeLoginBridge_asyncToGenerator(MsToNativeLoginBridge_regeneratorRuntime().mark((function _callee2(e){return MsToNativeLoginBridge_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return window.APP.store.update({profile:e,activity:{hasChangedName:!0,hasChangedPicture:!0}}),t.next=3,new Promise((function(e){setTimeout(e,0)}));case 3:case"end":return t.stop()}}),_callee2)}))),function setProfile(e){return n.apply(this,arguments)})},{key:"setCredential",value:(t=MsToNativeLoginBridge_asyncToGenerator(MsToNativeLoginBridge_regeneratorRuntime().mark((function _callee3(e,t){return MsToNativeLoginBridge_regeneratorRuntime().wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return window.APP.store.update({credentials:{email:e,token:t},activity:{hasChangedName:!1,hasChangedPicture:!1}}),n.next=3,new Promise((function(e){setTimeout(e,0)}));case 3:if(!window.APP.hubChannel){n.next=7;break}return n.next=6,window.APP.hubChannel.signIn(t);case 6:console.log("Native Sign In : "+t);case 7:case"end":return n.stop()}}),_callee3)}))),function setCredential(e,n){return t.apply(this,arguments)})},{key:"getUserAccount",value:function getUserAccount(){return this.getProfile()}},{key:"getName",value:function getName(){return window.APP.store.profile.displayName}},{key:"displayProfilePhoto",value:function displayProfilePhoto(){return this.getProfile().microsoftUserprofilePicture}},{key:"getProfile",value:function getProfile(){return window.APP.store.state.profile||{}}},{key:"nativeLogin",value:(e=MsToNativeLoginBridge_asyncToGenerator(MsToNativeLoginBridge_regeneratorRuntime().mark((function _callee6(e,t){var n,r,o=this;return MsToNativeLoginBridge_regeneratorRuntime().wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:if(!window.APP.store.state.credentials.token){i.next=2;break}return i.abrupt("return");case 2:return n=new C(window.APP.store),i.next=5,phoenix_utils_connectToReticulum();case 5:return r=i.sent,n.setSocket(r),i.next=9,new Promise((function(r,i){var a=n.socket.channel("auth:".concat(R()()));a.onError((function(){a.leave(),i()})),a.join().receive("ok",(function(){a.on("auth_token_resp",function(){var e=MsToNativeLoginBridge_asyncToGenerator(MsToNativeLoginBridge_regeneratorRuntime().mark((function _callee5(e){var t,n;return MsToNativeLoginBridge_regeneratorRuntime().wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:t=e.auth_token,n=e.auth_payload,a.on("auth_credentials",function(){var e=MsToNativeLoginBridge_asyncToGenerator(MsToNativeLoginBridge_regeneratorRuntime().mark((function _callee4(e){var t,n;return MsToNativeLoginBridge_regeneratorRuntime().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.credentials,n=e.payload,i.next=3,o.setCredential(n.email,t);case 3:r(!0);case 4:case"end":return i.stop()}}),_callee4)})));return function(t){return e.apply(this,arguments)}}()),a.push("auth_verified",{token:t,payload:n});case 3:case"end":return i.stop()}}),_callee5)})));return function(t){return e.apply(this,arguments)}}()),t&&e||i(new Error),a.push("auth_token_request",{email:e,authtoken:t,origin:"hubs"})})).receive("error",i)}));case 9:case"end":return i.stop()}}),_callee6)}))),function nativeLogin(t,n){return e.apply(this,arguments)})}]),MsToNativeLoginBridge}();function PhoenixAuthService_typeof(e){return PhoenixAuthService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PhoenixAuthService_typeof(e)}function PhoenixAuthService_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */PhoenixAuthService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=maybeInvokeDelegate(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=tryCatch(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&n.call(u,o)&&(c=u);var d=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(r,o,i,a){var s=tryCatch(e[r],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==PhoenixAuthService_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var r;this._invoke=function(e,n){function callInvokeWithMethodAndArg(){return new t((function(t,r){invoke(e,n,t,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function next(){for(;++r<e.length;)if(n.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(d,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(d),define(d,a,"Generator"),define(d,o,(function(){return this})),define(d,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function PhoenixAuthService_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function PhoenixAuthService_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){PhoenixAuthService_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){PhoenixAuthService_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function PhoenixAuthService_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PhoenixAuthService_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(){function PhoenixAuthService(){!function PhoenixAuthService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PhoenixAuthService),PhoenixAuthService_defineProperty(this,"adminRole",new o),PhoenixAuthService_defineProperty(this,"nativeBridge",new S),PhoenixAuthService_defineProperty(this,"ret",void 0)}var e,t;return function PhoenixAuthService_createClass(e,t,n){t&&PhoenixAuthService_defineProperties(e.prototype,t),n&&PhoenixAuthService_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(PhoenixAuthService,[{key:"getNativeInterface",value:function getNativeInterface(){return this.nativeBridge}},{key:"setGlobalReticulumChannel",value:function setGlobalReticulumChannel(e){this.ret=e}},{key:"getGlobalReticulumChannel",value:function getGlobalReticulumChannel(e){return e}},{key:"registerAuth",value:function registerAuth(e){throw new Error}},{key:"getAdmin",value:function getAdmin(){return this.adminRole}},{key:"connectToReticulum",value:(t=PhoenixAuthService_asyncToGenerator(PhoenixAuthService_regeneratorRuntime().mark((function _callee(){var e,t,n,r=arguments;return PhoenixAuthService_regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],t=r.length>1&&void 0!==r[1]?r[1]:null,n=r.length>2&&void 0!==r[2]?r[2]:null,o.abrupt("return",phoenix_utils_connectToReticulum(e,t,n));case 4:case"end":return o.stop()}}),_callee)}))),function connectToReticulum(){return t.apply(this,arguments)})},{key:"createAuthChannel",value:function createAuthChannel(e){return new C(e)}},{key:"getType",value:function getType(){return PhoenixAuthService.name}},{key:"createAndRedirectToNewHub",value:(e=PhoenixAuthService_asyncToGenerator(PhoenixAuthService_regeneratorRuntime().mark((function _callee2(e,t,n){return PhoenixAuthService_regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",phoenix_utils_createAndRedirectToNewHub(e,t,n));case 1:case"end":return r.stop()}}),_callee2)}))),function createAndRedirectToNewHub(t,n,r){return e.apply(this,arguments)})},{key:"getReticulumFetchUrl",value:function getReticulumFetchUrl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return phoenix_utils_getReticulumFetchUrl(e,t,n,r)}},{key:"fetchReticulumAuthenticated",value:function fetchReticulumAuthenticated(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return phoenix_utils_fetchReticulumAuthenticated(e,t,n)}},{key:"isLocalClient",value:function isLocalClient(){return phoenix_utils_isLocalClient()}}]),PhoenixAuthService}(),V=__nested_webpack_require_138382__(206),w=__nested_webpack_require_138382__.n(V);function createHubChannelParams(e){var t=e.permsToken,n=e.profile,r=e.pushSubscriptionEndpoint,o=e.isMobile,i=e.isMobileVR,a=e.isEmbed,s=e.hubInviteId;return{profile:n,push_subscription_endpoint:r,auth_token:e.authToken||null,perms_token:t||null,context:{mobile:o||i,embed:a,hmd:i},hub_invite_id:s}}function RoomService_typeof(e){return RoomService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RoomService_typeof(e)}function RoomService_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */RoomService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=maybeInvokeDelegate(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=tryCatch(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&n.call(u,o)&&(c=u);var d=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(r,o,i,a){var s=tryCatch(e[r],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==RoomService_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var r;this._invoke=function(e,n){function callInvokeWithMethodAndArg(){return new t((function(t,r){invoke(e,n,t,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function next(){for(;++r<e.length;)if(n.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(d,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(d),define(d,a,"Generator"),define(d,o,(function(){return this})),define(d,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function RoomService_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function RoomService_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function _next(e){RoomService_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){RoomService_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)}))}}function RoomService_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function RoomService(e,t,n,r,o){!function RoomService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomService),this.phoenixAuthService=e,this.store=t,this.properties=n,this.nameService=r,this.cookie=o}var e,t,n,r;return function RoomService_createClass(e,t,n){t&&RoomService_defineProperties(e.prototype,t),n&&RoomService_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(RoomService,[{key:"getType",value:function getType(){return RoomService.name}},{key:"parseUrl",value:function parseUrl(e){var t=new URL(e);return t.origin.startsWith("https://localhost")?{origin:t.origin,roomSID:t.searchParams.get("hub_id")}:{origin:t.origin,roomSID:t.pathname.split("/")[1]}}},{key:"createAndRedirectToNewHub",value:function createAndRedirectToNewHub(e,t,n){return this.phoenixAuthService.createAndRedirectToNewHub(e,t,n)}},{key:"getLinkFromCode",value:(r=RoomService_asyncToGenerator(RoomService_regeneratorRuntime().mark((function _callee(e){var t,n;return RoomService_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t="https://"+config().RETICULUM_SERVER+"/link/"+e,r.next=3,fetch(t);case 3:if(n=r.sent,console.log(n),console.log(n.headers.get("location")),!(n.status>=400)){r.next=11;break}throw console.error(n),new Error("wrong status");case 11:return r.abrupt("return",n.headers.get("location"));case 12:case"end":return r.stop()}}),_callee)}))),function getLinkFromCode(e){return r.apply(this,arguments)})},{key:"getEmbedToken",value:(n=RoomService_asyncToGenerator(RoomService_regeneratorRuntime().mark((function _callee2(e,t){var n,r;return RoomService_regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return window.location.origin.startsWith("https://localhost")&&(n=this.properties.get("@aptero/axolotis-module-room"),t=n.ROOM_TOKEN_SERVICE||window.location.origin),o.next=3,w().get(t+"/service/room/room/"+e+"/embed/token");case 3:return r=o.sent,o.abrupt("return",r.data);case 5:case"end":return o.stop()}}),_callee2,this)}))),function getEmbedToken(e,t){return n.apply(this,arguments)})},{key:"fetchSpokeProject",value:function fetchSpokeProject(e){var t=this;return function(n){return e?t.phoenixAuthService.fetchReticulumAuthenticated("/api/v1/media/search?filter=my-scenes&source=scenes&user=".concat(e,"&cursor=").concat(n)):Promise.reject(new Error("Not signed in"))}}},{key:"fetchFavoriteRoom",value:function fetchFavoriteRoom(e){var t=this;return function(n){return e?t.phoenixAuthService.fetchReticulumAuthenticated("/api/v1/media/search?source=favorites&type=rooms&user=".concat(e,"&cursor=").concat(n)):Promise.reject(new Error("Not signed in"))}}},{key:"setFavorite",value:(t=RoomService_asyncToGenerator(RoomService_regeneratorRuntime().mark((function _callee4(e){var t,n=this;return RoomService_regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:if(this.store.state.credentials.token){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,this.phoenixAuthService.connectToReticulum(!1);case 4:(t=r.sent).onClose((function(){})),window.APP.retChannel=t.channel("ret",{hub_id:e}),this.phoenixAuthService.setGlobalReticulumChannel(window.APP.retChannel),window.APP.retChannel.join().receive("ok",(function(){var r="ret-oauth-flow-perms-token",o=n.cookie.get(r);o&&n.cookie.remove(r);var i=t.channel("hub:".concat(e),function hubChannelParamsForPermsToken(e){return createHubChannelParams({profile:n.store.state.profile,pushSubscriptionEndpoint:null,permsToken:e,isMobile:!1,isMobileVR:!1,isEmbed:!1,hubInviteId:null,authToken:n.store.state.credentials&&n.store.state.credentials.token})}(o));i.join().receive("ok",RoomService_asyncToGenerator(RoomService_regeneratorRuntime().mark((function _callee3(){return RoomService_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:i.push("favorite",{});case 1:case"end":return e.stop()}}),_callee3)})))).receive("error",(function(e){console.error(e)}))})).receive("error",(function(e){console.error(e)}));case 9:case"end":return r.stop()}}),_callee4,this)}))),function setFavorite(e){return t.apply(this,arguments)})},{key:"createAndSelect",value:(e=RoomService_asyncToGenerator(RoomService_regeneratorRuntime().mark((function _callee5(e){var t,n,r,o,i,a,s,c,l=arguments;return RoomService_regeneratorRuntime().wrap((function _callee5$(u){for(;;)switch(u.prev=u.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:void 0,n=this.phoenixAuthService.getReticulumFetchUrl("/api/v1/hubs"),r={hub:{name:t||this.nameService.generateHubName()}},e&&(r.hub.scene_id=e),o={"content-type":"application/json"},(i=this.store).state&&i.state.credentials.token&&(o.authorization="bearer ".concat(i.state.credentials.token)),u.next=9,fetch(n,{body:JSON.stringify(r),headers:o,method:"POST"}).then((function(e){return e.json()}));case 9:if("invalid_token"!==(a=u.sent).error){u.next=16;break}return i.update({credentials:{token:null,email:null}}),delete o.authorization,u.next=15,fetch(n,{body:JSON.stringify(r),headers:o,method:"POST"}).then((function(e){return e.json()}));case 15:a=u.sent;case 16:return c=(s=a).url,this.phoenixAuthService.isLocalClient()&&(c=window.location.origin+"/hub.html?hub_id=".concat(s.hub_id)),this.setFavorite(s.hub_id),u.abrupt("return",c);case 21:case"end":return u.stop()}}),_callee5,this)}))),function createAndSelect(t){return e.apply(this,arguments)})},{key:"createRoomEntry",value:function createRoomEntry(e,t,n){return{allow_remixing:!1,attributions:{content:[{title:"Salle"},{title:"Image"},{title:"Image 1"},{title:"Video"}],creator:""},description:null,id:t,images:{preview:{url:n}},name:e,project_id:"XXXXX",type:"scene",url:window.location.origin+"/"+t}}}]),RoomService}();function CookieStore_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function RoomService_defineProperty(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(G,"dependencies",[me,pe,he,ge,fe]);var N=function(){function CookieStore(){!function CookieStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CookieStore)}return function CookieStore_createClass(e,t,n){t&&CookieStore_defineProperties(e.prototype,t),n&&CookieStore_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(CookieStore,[{key:"getType",value:function getType(){return CookieStore.name}},{key:"get",value:function get(e){return localStorage.getItem(e)}},{key:"set",value:function set(e,t){localStorage.setItem(e,t)}},{key:"remove",value:function remove(e){return localStorage.removeItem(e)}}]),CookieStore}(),Z=__nested_webpack_require_138382__(660),A=__nested_webpack_require_138382__(996),k=__nested_webpack_require_138382__.n(A);function assertType(e,t,...n){if(!e)throw new TypeError(format(t,n))}function format(e,t){let n=0;return e.replace(/%[os]/gu,(()=>anyToString(t[n++])))}function anyToString(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}const T="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof globalThis?globalThis:void 0;let W;class Warning{constructor(e,t){this.code=e,this.message=t}warn(...e){var t;try{W;const n=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace(/^(?:.+?\n){2}/gu,"\n");console.warn(this.message,...e,n)}catch(e){}}}const _=new Warning("W01","Unable to initialize event under dispatching."),X=new Warning("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),O=new Warning("W03","Assigning any truthy value to 'returnValue' property has no effect."),D=new Warning("W04","Unable to preventDefault on non-cancelable events."),J=new Warning("W05","Unable to preventDefault inside passive event listener invocation."),P=new Warning("W06","An event listener wasn't added because it has been added already: %o, %o"),M=new Warning("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),H=new Warning("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o");new Warning("W09","Event attribute handler must be a function: %o");class Event{static get NONE(){return j}static get CAPTURING_PHASE(){return Y}static get AT_TARGET(){return z}static get BUBBLING_PHASE(){return K}constructor(e,t){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=null!=t?t:{};q.set(this,{type:String(e),bubbles:Boolean(n.bubbles),cancelable:Boolean(n.cancelable),composed:Boolean(n.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return $(this).type}get target(){return $(this).target}get srcElement(){return $(this).target}get currentTarget(){return $(this).currentTarget}composedPath(){const e=$(this).currentTarget;return e?[e]:[]}get NONE(){return j}get CAPTURING_PHASE(){return Y}get AT_TARGET(){return z}get BUBBLING_PHASE(){return K}get eventPhase(){return $(this).dispatchFlag?2:0}stopPropagation(){$(this).stopPropagationFlag=!0}get cancelBubble(){return $(this).stopPropagationFlag}set cancelBubble(e){e?$(this).stopPropagationFlag=!0:X.warn()}stopImmediatePropagation(){const e=$(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return $(this).bubbles}get cancelable(){return $(this).cancelable}get returnValue(){return!$(this).canceledFlag}set returnValue(e){e?O.warn():setCancelFlag($(this))}preventDefault(){setCancelFlag($(this))}get defaultPrevented(){return $(this).canceledFlag}get composed(){return $(this).composed}get isTrusted(){return!1}get timeStamp(){return $(this).timeStamp}initEvent(e,t=!1,n=!1){const r=$(this);r.dispatchFlag?_.warn():q.set(this,{...r,type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}}const j=0,Y=1,z=2,K=3,q=new WeakMap;function $(e,t="this"){const n=q.get(e);return assertType(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),n}function setCancelFlag(e){e.inPassiveListenerFlag?J.warn():e.cancelable?e.canceledFlag=!0:D.warn()}Object.defineProperty(Event,"NONE",{enumerable:!0}),Object.defineProperty(Event,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(Event,"AT_TARGET",{enumerable:!0}),Object.defineProperty(Event,"BUBBLING_PHASE",{enumerable:!0});const ee=Object.getOwnPropertyNames(Event.prototype);for(let e=0;e<ee.length;++e)"constructor"!==ee[e]&&Object.defineProperty(Event.prototype,ee[e],{enumerable:!0});let te;void 0!==T&&void 0!==T.Event&&Object.setPrototypeOf(Event.prototype,T.Event.prototype);const ne={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function defineErrorCodeProperties(e){const t=Object.keys(ne);for(let n=0;n<t.length;++n){const r=t[n],o=ne[r];Object.defineProperty(e,r,{get:()=>o,configurable:!0,enumerable:!0})}}class EventWrapper extends Event{static wrap(e){return new(getWrapperClassOf(e))(e)}constructor(e){super(e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}),e.cancelBubble&&super.stopPropagation(),e.defaultPrevented&&super.preventDefault(),re.set(this,{original:e});const t=Object.keys(e);for(let n=0;n<t.length;++n){const r=t[n];r in this||Object.defineProperty(this,r,defineRedirectDescriptor(e,r))}}stopPropagation(){super.stopPropagation();const{original:e}=$$1(this);"stopPropagation"in e&&e.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(e){super.cancelBubble=e;const{original:t}=$$1(this);"cancelBubble"in t&&(t.cancelBubble=e)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:e}=$$1(this);"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(e){super.returnValue=e;const{original:t}=$$1(this);"returnValue"in t&&(t.returnValue=e)}preventDefault(){super.preventDefault();const{original:e}=$$1(this);"preventDefault"in e&&e.preventDefault()}get timeStamp(){const{original:e}=$$1(this);return"timeStamp"in e?e.timeStamp:super.timeStamp}}const re=new WeakMap;function $$1(e){const t=re.get(e);return assertType(null!=t,"'this' is expected an Event object, but got",e),t}const oe=new WeakMap;function getWrapperClassOf(e){const t=Object.getPrototypeOf(e);if(null==t)return EventWrapper;let n=oe.get(t);return null==n&&(n=function defineWrapper(e,t){class CustomEventWrapper extends e{}const n=Object.keys(t);for(let e=0;e<n.length;++e)Object.defineProperty(CustomEventWrapper.prototype,n[e],defineRedirectDescriptor(t,n[e]));return CustomEventWrapper}(getWrapperClassOf(t),t),oe.set(t,n)),n}function defineRedirectDescriptor(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return{get(){const e=$$1(this).original,n=e[t];return"function"==typeof n?n.bind(e):n},set(e){$$1(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function isCapture(e){return 1==(1&e.flags)}function isPassive(e){return 2==(2&e.flags)}function isOnce(e){return 4==(4&e.flags)}function isRemoved(e){return 8==(8&e.flags)}function invokeCallback({callback:e},t,n){try{"function"==typeof e?e.call(t,n):"function"==typeof e.handleEvent&&e.handleEvent(n)}catch(e){!function reportError(e){try{const t=e instanceof Error?e:new Error(anyToString(e));if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:t,message:t.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)}catch(e){}}(e)}}function findIndexOfListener({listeners:e},t,n){for(let r=0;r<e.length;++r)if(e[r].callback===t&&isCapture(e[r])===n)return r;return-1}function removeListener(e,t,n){const r=findIndexOfListener(e,t,n);return-1!==r&&removeListenerAt(e,r)}function removeListenerAt(e,t,n=!1){const r=e.listeners[t];return function setRemoved(e){e.flags|=8}(r),r.signal&&r.signal.removeEventListener("abort",r.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter(((e,n)=>n!==t)),!1):(e.listeners.splice(t,1),!0)}oe.set(Object.prototype,EventWrapper),void 0!==T&&void 0!==T.Event&&oe.set(T.Event.prototype,EventWrapper);class EventTarget{constructor(){ie.set(this,function createListenerListMap(){return Object.create(null)}())}addEventListener(e,t,n){const r=$$2(this),{callback:o,capture:i,once:a,passive:s,signal:c,type:l}=function normalizeAddOptions(e,t,n){var r;return assertCallback(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(r=n.signal)&&void 0!==r?r:void 0}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}(e,t,n);if(null==o||(null==c?void 0:c.aborted))return;const u=function ensureListenerList(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}(r,l),d=findIndexOfListener(u,o,i);-1===d?function addListener(e,t,n,r,o,i){let a;i&&(a=removeListener.bind(null,e,t,n),i.addEventListener("abort",a));const s=function createListener(e,t,n,r,o,i){return{callback:e,flags:(t?1:0)|(n?2:0)|(r?4:0),signal:o,signalListener:i}}(t,n,r,o,i,a);return e.cow?(e.cow=!1,e.listeners=[...e.listeners,s]):e.listeners.push(s),s}(u,o,i,s,a,c):function warnDuplicate(e,t,n,r){P.warn(isCapture(e)?"capture":"bubble",e.callback),isPassive(e)!==t&&M.warn("passive"),isOnce(e)!==n&&M.warn("once"),e.signal!==r&&M.warn("signal")}(u.listeners[d],s,a,c)}removeEventListener(e,t,n){const r=$$2(this),{callback:o,capture:i,type:a}=function normalizeOptions(e,t,n){return assertCallback(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture)}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n)}}(e,t,n),s=r[a];null!=o&&s&&removeListener(s,o,i)}dispatchEvent(e){const t=$$2(this)[String(e.type)];if(null==t)return!0;const n=e instanceof Event?e:EventWrapper.wrap(e),r=$(n,"event");if(r.dispatchFlag)throw function createInvalidStateError(e){return T.DOMException?new T.DOMException(e,"InvalidStateError"):(null==te&&(te=class DOMException extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,DOMException)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(te.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),defineErrorCodeProperties(te),defineErrorCodeProperties(te.prototype)),new te(e))}("This event has been in dispatching.");if(r.dispatchFlag=!0,r.target=r.currentTarget=this,!r.stopPropagationFlag){const{cow:e,listeners:o}=t;t.cow=!0;for(let i=0;i<o.length;++i){const a=o[i];if(!isRemoved(a)&&(isOnce(a)&&removeListenerAt(t,i,!e)&&(i-=1),r.inPassiveListenerFlag=isPassive(a),invokeCallback(a,this,n),r.inPassiveListenerFlag=!1,r.stopImmediatePropagationFlag))break}e||(t.cow=!1)}return r.target=null,r.currentTarget=null,r.stopImmediatePropagationFlag=!1,r.stopPropagationFlag=!1,r.dispatchFlag=!1,!r.canceledFlag}}const ie=new WeakMap;function $$2(e,t="this"){const n=ie.get(e);return assertType(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),n}function assertCallback(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(format(H.message,[e]));H.warn(e)}}const ae=Object.getOwnPropertyNames(EventTarget.prototype);for(let e=0;e<ae.length;++e)"constructor"!==ae[e]&&Object.defineProperty(EventTarget.prototype,ae[e],{enumerable:!0});function Store_typeof(e){return Store_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Store_typeof(e)}function Store_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){if(t&&("object"===Store_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}void 0!==T&&void 0!==T.EventTarget&&Object.setPrototypeOf(EventTarget.prototype,T.EventTarget.prototype);var se="___hubs_store",ce=Symbol(),le=new Z.Validator,ue={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9_~ -]{3,32}$"},avatarId:{type:"string"},companyName:{type:"string"},jobTitleName:{type:"string"},phoneNumber:{type:"string"},description:{type:"string"},profilePicture:{type:"string"},microsoftUserprofilePicture:{type:"string"},microsoftUser:{type:"string"},personalAvatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},hasAcceptedProfile:{type:"boolean"},hasChangedPicture:{type:"boolean"},hasChangedAvatar:{type:"boolean"},lastEnteredAt:{type:"string"},hasPinned:{type:"boolean"},hasRotated:{type:"boolean"},hasRecentered:{type:"boolean"},hasScaled:{type:"boolean"},hasHoveredInWorldHud:{type:"boolean"},hasOpenedShare:{type:"boolean"},entryCount:{type:"number"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"},micMuted:{type:"bool"}}},preferences:{type:"object",additionalProperties:!0,properties:{shouldPromptForRefresh:{type:"bool"},preferredMic:{type:"string"},preferredCamera:{type:"string"},muteMicOnEntry:{type:"bool"},audioOutputMode:{type:"string"},audioNormalization:{type:"bool"},invertTouchscreenCameraMove:{type:"bool"},enableOnScreenJoystickLeft:{type:"bool"},enableOnScreenJoystickRight:{type:"bool"},enableGyro:{type:"bool"},onlyShowNametagsInFreeze:{type:"bool"},animateWaypointTransitions:{type:"bool"},showFPSCounter:{type:"bool"},allowMultipleHubsInstances:{type:"bool"},disableIdleDetection:{type:"bool"},fastRoomSwitching:{type:"bool"},preferMobileObjectInfoPanel:{type:"bool"},maxResolutionWidth:{type:"number"},maxResolutionHeight:{type:"number"},globalVoiceVolume:{type:"number"},globalMediaVolume:{type:"number"},snapRotationDegrees:{type:"number"},materialQualitySetting:{type:"string"},enableDynamicShadows:{type:"bool"},disableSoundEffects:{type:"bool"},disableMovement:{type:"bool"},disableBackwardsMovement:{type:"bool"},disableStrafing:{type:"bool"},disableTeleporter:{type:"bool"},disableAutoPixelRatio:{type:"bool"},movementSpeedModifier:{type:"number"},disableEchoCancellation:{type:"bool"},disableNoiseSuppression:{type:"bool"},disableAutoGainControl:{type:"bool"},locale:{type:"string"},showRtcDebugPanel:{type:"bool"},showAudioDebugPanel:{type:"bool"},enableAudioClipping:{type:"bool"},audioClippingThreshold:{type:"number"},theme:{type:"string"},thirdPersonMode:{type:"bool"}}},confirmedDiscordRooms:{type:"array",items:{type:"string"}},confirmedBroadcastedRooms:{type:"array",items:{type:"string"}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}},creatorAssignmentTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},creatorAssignmentToken:{type:"string"}}}},embedTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},embedToken:{type:"string"}}}},onLoadActions:{type:"array",items:{type:"object",additionalProperties:!1,properties:{action:{type:"string"},args:{type:"object"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},preferences:{$ref:"#/definitions/preferences"},confirmedDiscordRooms:{$ref:"#/definitions/confirmedDiscordRooms"},confirmedBroadcastedRooms:{$ref:"#/definitions/confirmedBroadcastedRooms"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"},creatorAssignmentTokens:{$ref:"#/definitions/creatorAssignmentTokens"},embedTokens:{$ref:"#/definitions/embedTokens"},onLoadActions:{$ref:"#/definitions/onLoadActions"}},additionalProperties:!1},de=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}(Store,e);var t=function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}(Store);function Store(){var e;return function Store_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Store),e=t.call(this),"undefined"!=typeof localStorage&&null===localStorage.getItem(se)&&localStorage.setItem(se,JSON.stringify({})),window.addEventListener("storage",(function(t){t.key===se&&(delete e[ce],e.dispatchEvent(new CustomEvent("statechanged")))})),e}return function Store_createClass(e,t,n){t&&Store_defineProperties(e.prototype,t),n&&Store_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(Store,[{key:"getType",value:function getType(){return Store.name}},{key:"state",get:function get(){return this[ce]||"undefined"==typeof localStorage||(this[ce]=JSON.parse(localStorage.getItem(se))),this[ce]}},{key:"clearStoredArray",value:function clearStoredArray(e){var t={};t[e]=[],this.update(t,{arrayMerge:function overwriteMerge(e,t){return t}})}},{key:"update",value:function update(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=k()(this.state,e,t),r=le.validate(n,ue),o=r.valid;return o||console.log("Write to store failed schema validation."),"undefined"!=typeof localStorage&&localStorage.setItem(se,JSON.stringify(n)),delete this[ce],this.dispatchEvent(new CustomEvent("statechanged")),n}}]),Store}(EventTarget),he="@aptero/axolotis-module-properties/Properties",pe="@aptero/axolotis-module-storage/Store",fe="@aptero/axolotis-module-storage/CookieStore",me="@aptero/axolotis-module-phx-auth/PhoenixAuthService",ge="@aptero/axolotis-module-name/PhoenixAuthService",be="@aptero/axolotis-module-room/RoomService"})(),__webpack_exports__})()))}}]);
//# sourceMappingURL=axolotis-module-template-async.7015aa2aa7bdd507743b.js.map